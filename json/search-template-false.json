{"packages":[{"organization":"ballerinax", "name":"jaeger", "version":"0.2.3", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/jaeger/0.2.3", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/jaeger/0.2.3/ballerinax-jaeger-java11-0.2.3.bala", "digest":"sha-256=06542eeebba0b7e87d6c9ddaf5a49d890ec3c4d52a6cd01c52d27a487b3109b3", "summary":"", "readme":"## Package Overview\n\nThe Jaeger Observability Extension is one of the tracing extensions of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language.\n\nIt provides an implementation for tracing and publishing traces to a Jaeger Agent.\n\n## Enabling Jaeger Extension\n\nTo package the Jaeger extension into the Jar, follow the following steps.\n1. Add the following import to your program.\n```ballerina\nimport ballerinax\/jaeger as _;\n```\n\n2. Add the following to the `Ballerina.toml` when building your program.\n```toml\n[package]\norg = \"my_org\"\nname = \"my_package\"\nversion = \"1.0.0\"\n\n[build-options]\nobservabilityIncluded=true\n```\n\nTo enable the extension and publish traces to Jaeger, add the following to the `Config.toml` when running your program.\n```toml\n[ballerina.observe]\ntracingEnabled=true\ntracingProvider=\"jaeger\"\n\n[ballerinax.jaeger]\nagentHostname=\"127.0.0.1\"  # Optional Configuration. Default value is localhost\nagentPort=55680             # Optional Configuration. Default value is 55680\n```", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622737487000, "modules":[{"name":"jaeger", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/jaeger/0.2.3", "packageUrl":"/ballerinax/jaeger/0.2.3"}], "pullCount":3}, {"organization":"ballerinax", "name":"choreo", "version":"0.2.7", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/choreo/0.2.7", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/choreo/0.2.7/ballerinax-choreo-java11-0.2.7.bala", "digest":"sha-256=e8bf2467d7198ca7c4aa004cef437041ac0cebe7d8d9f527f65c80e00c94b9d0", "summary":"", "readme":"## Package Overview\n\nThe Choreo Observability Extension is one of the observability extensions of the [Ballerina](https:\/\/ballerina.io\/) language.\n\nIt provides an implementation for publishing traces & metrics to Choreo.\n\n## Enabling Choreo Extension\n\nTo package the Choreo extension into the Jar, follow the following steps.\n1. Add the following import to your program.\n```ballerina\nimport ballerinax\/choreo as _;\n```\n\n2. Add the following to the `Ballerina.toml` when building your program.\n```toml\n[package]\norg = \"my_org\"\nname = \"my_package\"\nversion = \"1.0.0\"\n\n[build-options]\nobservabilityIncluded=true\n```\n\nTo enable the extension and connect to Choreo, add the following to the `Config.toml` when running your program.\n```toml\n[ballerina.observe]\nenabled=true\nprovider=\"choreo\"\n```", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622737198000, "modules":[{"name":"choreo", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/choreo/0.2.7", "packageUrl":"/ballerinax/choreo/0.2.7"}], "pullCount":2}, {"organization":"ballerinax", "name":"prometheus", "version":"0.1.8", "platform":"any", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/prometheus/0.1.8", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/prometheus/0.1.8/ballerinax-prometheus-any-0.1.8.bala", "digest":"sha-256=195c763d60161af0e641c865477dc93aa54d8d48a2f8aafaab677fc95c5644ab", "summary":"", "readme":"## Package Overview\n\nThe Prometheus Observability Extension is one of the metrics extensions of the <a target=\"_blank\" href=\"https:\/\/ballerina.io\/\">Ballerina<\/a> language.\n\nIt provides an implementation for exporting metrics to a Prometheus Server.\n\n### Enabling Prometheus Extension\n\nTo package the Prometheus extension into the Jar, follow the following steps.\n1. Add the following import to your program.\n```ballerina\nimport ballerinax\/prometheus as _;\n```\n\n2. Add the following to the `Ballerina.toml` when building your program.\n```toml\n[package]\norg = \"my_org\"\nname = \"my_package\"\nversion = \"1.0.0\"\n\n[build-options]\nobservabilityIncluded=true\n```\n\nTo enable the extension and export metrics to Prometheus, add the following to the `Config.toml` when running your program.\n```toml\n[ballerina.observe]\nmetricsEnabled=true\nmetricsReporter=\"prometheus\"\n\n[ballerinax.prometheus]\nhost=\"127.0.0.1\"  # Optional Configuration. Default value is localhost\nport=9797         # Optional Configuration. Default value is 9797\n```", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622737081000, "modules":[{"name":"prometheus", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/prometheus/0.1.8", "packageUrl":"/ballerinax/prometheus/0.1.8"}], "pullCount":4}, {"organization":"ballerina", "name":"websub", "version":"1.2.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/websub/1.2.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/websub/1.2.0-beta.1/ballerina-websub-java11-1.2.0-beta.1.bala", "digest":"sha-256=82e9ca870f793b0ec18cd62eed5b460f0bbebcd77ebd6473cef500f82df8b5de", "summary":"", "readme":"## Package Overview\n\nThe `websub` package is one of the standard library packages of the <a target=\"_blank\" href=\"https:\/\/ballerina.io\/\">Ballerina<\/a> language.\n\nThis package provides the capability to easily implement a WebSub compliant **Subscriber Service**.\n\n## Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n## Useful Links\n\n* Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n* Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n* Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622726160000, "modules":[{"name":"websub", "summary":"", "readme":"## Overview\n\nThis module provides APIs for WebSub Subscriber Service.\n\n[**WebSub**](https:\/\/www.w3.org\/TR\/websub\/) is a common mechanism for communication between publishers of any kind of Web content and their subscribers, based on HTTP webhooks. Subscription requests are relayed through hubs, which validate and verify the request. Hubs then distribute new and updated content to subscribers when it becomes available. WebSub was previously known as PubSubHubbub.\n\n[**WebSub Subscriber**](https:\/\/www.w3.org\/TR\/websub\/#subscriber) is an implementation that discovers the `hub` and `topic URL` of a given `resource URL`, subscribes to updates at the hub, and accepts content distribution requests from the `hub`.\n\n### Basic flow with WebSub\n\n1. The subscriber discovers (from the publisher) the topic it needs to subscribe to and the hub(s) that deliver notifications on the updates of the topic.\n\n2. The subscriber sends a subscription request to one or more discovered hub(s) specifying the discovered topic along \n with the other subscription parameters such as:\n    - The callback URL to which the content is expected to be delivered.\n    - (Optional) The lease period (in seconds) the subscriber wants the subscription to stay active.\n    - (Optional) A secret to use for the [authenticated content distribution](https:\/\/www.w3.org\/TR\/websub\/#signing-content).\n  \n3. The hub sends an intent verification request to the specified callback URL. If the response indicates \nthe verification\n (by echoing a challenge specified in the request) by the subscriber, the subscription is added for the topic at the \n hub.\n   \n4. The publisher notifies the hub of the updates to the topic and the content to deliver is identified.\n\n5. The hub delivers the identified content to the subscribers of the topic.\n\n#### Subscribing\n\n* The WebSub Subscriber provides the mechanism to subscribe in a `hub` to a given `topic URL`. \n```ballerina\n@websub:SubscriberServiceConfig {\n    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"], \n    leaseSeconds: 36000\n} \nservice \/subscriber on new websub:Listener(9090) {\n    remote function onSubscriptionValidationDenied(websub:SubscriptionDeniedError msg) returns websub:Acknowledgement? {\n        \/\/ implement subscription validation denied logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    remote function onSubscriptionVerification(websub:SubscriptionVerification msg)\n                        returns websub:SubscriptionVerificationSuccess|websub:SubscriptionVerificationError {\n        \/\/ implement subscription intent verification logic here\n        return websub:SUBSCRIPTION_VERIFICATION_SUCCESS;\n    }\n\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n}\n```\n\n#### Resource Discovery\n\n* The WebSub Subscriber also provides the mechanism to discover the `hub` and `topic URL` resources dynamically via the provided `resource URL` and initiates the subscription.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000\n} \nservice \/subscriber on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n```\n\n#### Dynamic URI Generation\n\n* The service path for a WebSub Subscriber is optional. The WebSub Subscriber service has the capability to generate the service path dynamically.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000\n} \nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n```\n\n#### Running Subscriber Service Locally\n\n* [**nGrok**](https:\/\/ngrok.com\/) is a TCP Tunneling software, which is used to expose services running locally in the public network.\n* If you want to run the subscriber service in your local machine, you could use **nGrok** to expose it to the public network.\n* First, [download and install](https:\/\/ngrok.com\/download) **nGrok**.\n* Run the following command to expose the local port `9090` to the public network via `HTTPS`. For information, see the [ngrok documentation](https:\/\/ngrok.com\/docs#http-bind-tls)).\n```bash\nngrok http -bind-tls=true 9090\n```\n* Extract the public URL provided by **nGrok** and provide it as the callback URL for the subscriber service.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000,\n    callback: \"<NGROK_PUBLIC_URL>\",\n    appendServiceUrl: true\n} \nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n```\n\n# Returning Errors from Remote Methods\n\n* Remote functions in `websub:SubscriberService` can return `error` type.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000,\n    callback: \"<NGROK_PUBLIC_URL>\",\n    appendServiceUrl: true\n} \nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError|error? {\n        boolean isValidRequest = check validateRequest(event);\n        if isValidRequest {\n            \/\/ implement on event notification logic here\n            return websub:ACKNOWLEDGEMENT;\n        }\n    \n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n\nfunction validateRequest(websub:ContentDistributionMessage event) returns boolean|error {\n    \/\/ validation logic \n}\n```\n\n* For each remote method `error` return has a different meaning. Following table depicts the meaning inferred from `error` returned from all available remote methods.\n\n| Method        | Interpreted meaning for Error Return |\n| ----------- | ---------------- |\n| onSubscriptionValidationDenied | Successfull acknowledgement|\n| onSubscriptionVerification | Subscription verification failure|\n| onEventNotification | Successfull acknowledgement|", "apiDocURL":"https://docs.central.ballerina.io/ballerina/websub/1.2.0-beta.1", "packageUrl":"/ballerina/websub/1.2.0-beta.1"}], "pullCount":1}, {"organization":"ballerina", "name":"openapi", "version":"0.9.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/openapi/0.9.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/openapi/0.9.0-beta.1/ballerina-openapi-java11-0.9.0-beta.1.bala", "digest":"sha-256=831a59e0e36fac500564a35f7db98876e5982b51fde62df7bd76970b00197949", "summary":"", "readme":"## Package Overview\n\nThe `openapi` package is one of the command-line tools of the [Ballerina](https:\/\/ballerina.io\/) language.\n\nThis package provides support for the Ballerina OpenAPI tooling. The OpenAPI commands will make it easy to \nstart the development of a service documented in an OpenAPI contract in Ballerina by generating the Ballerina service \nand client skeletons and exporting the OpenAPI definition of a Ballerina service. The OpenAPI compiler plugin will \nallow you to validate a service implementation against an OpenAPI contract during the compile time. This plugin  \nensures that the implementation of a service does not deviate from its OpenAPI contract.\n\n### Report Issues\nTo report bugs, request new features, start new discussions, etc., go to the [open issues](https:\/\/github.com\/ballerina-platform\/ballerina-openapi\/issues)\n\n### Useful Links\n\n* Discuss about code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n* Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n* Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.\n* View the [Ballerina performance test results](performance\/benchmarks\/summary.md).", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622707532000, "modules":[{"name":"openapi", "summary":"", "readme":"## Module Overview\n\nThis module provides the Ballerina OpenAPI tooling, which will make it easy to start the development of a service documented in an OpenAPI contract in Ballerina by generating the Ballerina service and client skeletons.\n\nThe OpenAPI tools provide the following capabilities. \n\n 1. Generate the Ballerina service or client code for a given OpenAPI definition. \n 2. Export the OpenAPI definition of a Ballerina service.\n 3. Validate the service implementation of a given OpenAPI contract.\n    \nThe `openapi` command in Ballerina is used for OpenAPI to Ballerina and Ballerina to OpenAPI code generations. \nCode generation from OpenAPI to Ballerina can produce `ballerina service stubs` and `ballerina client stubs`.\nThe OpenAPI compiler plugin will allow you to validate a service implementation against an OpenAPI contract during\n the compile time.\nThis plugin ensures that the implementation of a service does not deviate from its OpenAPI contract.   \n\n### OpenAPI to Ballerina\n#### Generate Service and Client Stub from an OpenAPI Contract\n\n```bash\nbal openapi -i <openapi-contract-path> \n               [--tags: tags list]\n               [--operations: operationsID list]\n               [--mode service|client ]\n               [(-o|--output): output file path]\n```\nGenerates both the Ballerina service and Ballerina client stubs for a given OpenAPI file.\n\nThis `-i <openapi-contract-path>` parameter of the command is mandatory. It will get the path to the\n OpenAPI contract file (i.e., `my-api.yaml` or `my-api.json`) as an input.\n\nYou can give the specific tags and operations that you need to document as services without documenting all the operations using these optional `--tags` and `--operations` commands.\n\nThe `(-o|--output)` is an optional parameter. You can use this to give the output path of the generated files.\nIf not, it will take the execution path as the output path.\n\n##### Modes\nIf you want to generate a service only, you can set the mode as `service` in the OpenAPI tool.\n\n```bash\n    bal openapi -i <openapi-contract-path> --mode service [(-o|--output) output file path]\n```\n\nIf you want to generate a client only, you can set the mode as  `client` in the OpenAPI tool. \nThis client can be used in client applications to call the service defined in the OpenAPI file.\n\n```bash\n    bal openapi -i <openapi-contract-path> --mode client [(-o|--output) output file path]\n```\n\n### Ballerina to OpenAPI\n#### Service to OpenAPI Export\n```bash\n    bal openapi -i <ballerina-file-path> \n               [(-o|--output) output openapi file path]\n```\nExport the Ballerina service to an  OpenAPI Specification 3.0 definition. For the export to work properly, \nthe input Ballerina service should be defined using the basic service and resource-level HTTP annotations.\nIf you need to document an OpenAPI contract for only one given service, then use this command.\n```bash\n    bal openapi -i <ballerina-file-path> (-s | --service) <service-name>\n```\n\n### Samples for OpenAPI Commands\n#### Generate Service and Client Stub from OpenAPI\n```bash\n    bal openapi -i hello.yaml\n```\n\nThis will generate a Ballerina service and client stub for the `hello.yaml` OpenAPI contract named `hello-service\n` and client named `hello-client`. The above command can be run from within anywhere on the execution path. \nIt is not mandatory to run it from inside the Ballerina project.\n\nOutput:\n```bash\nThe service generation process is complete. The following files were created.\n-- hello-service.bal\n-- client.bal\n-- types.bal\n```\n#### Generate an OpenAPI Contract from a Service\n\n ```bash\n    bal openapi -i modules\/helloworld\/helloService.bal\n  ```\nThis will generate the OpenAPI contracts for the Ballerina services, which are in the `hello.bal` Ballerina file.\n ```bash \n    bal openapi -i modules\/helloworld\/helloService.bal (-s | --service) helloworld\n  ```\nThis command will generate the `helloworld-openapi.yaml` file that is related to the `helloworld` service inside the\n `helloService.bal` file.\n ```bash\n    bal openapi -i modules\/helloworld\/helloService.bal --json\n  ```\nThis `--json` option can be used with the Ballerina to OpenAPI command to generate the `helloworld-openapi.json` file \ninstead of generating the YAML file.\n\n## OpenAPI Validator Compiler Plugin\n\nThe OpenAPI Validator Compiler plugin validates a service against a given OpenAPI contract. \nThe Compiler Plugin is activated if a service has the `openapi:ServiceInfo` annotation. This plugin compares \nthe service and the OpenAPI Contract and validates both against a pre-defined set of validation rules. \nIf any of the rules fail, the plugin will give the result as one or more compilation errors.\n\n### Annotation for Validator Plugin \nThe `@openapi:ServiceInfo` annotation is used to bind the service with an OpenAPI contract. You need to add \nthis annotation to the service file with the required values for enabling the validations.  \nThe following is an example of the annotation usage.\n```ballerina\n@openapi:ServiceInfo{\n    contract: “\/path\/to\/openapi.json|yaml”,\n    [ tag : “store” ],\n    [ operations: [“op1”, “op2”] ] \n    [ failOnErrors]: true\/false → default : true\n    [ excludeTags ]: [“pets”, “user”]\n    [ excludeOperations: [“op1”, “op2”] ]\n   }\nservice greet on new http:Listener(9090) {\n    ...\n}\n```\n#### Annotation Support for the Following Attributes:\n- **Contract** (Required) : **string**  :\nHere, you can provide a path to the OpenAPI contract as a string and the OpenAPI file can either be `.yaml` or `.json`\nThis is a required attribute.\n\n- **Tag** (Optional) : **string[]?**     :\nThe compiler will only validate resources against operations, which are tagged with a tag specified in the list.\nIf not specified, the compiler will validate resources against all the operations defined in the OpenAPI contract. \n\n- **Operations** (Optional): **string[]?**  :\nShould contain a list of operation names that need to be validated against the resources in the service.\nIf not specified, the compiler will validate resources against all the operations defined in the OpenAPI contract. If both tags and operations are defined, it will validate against the union set of the resources.\n\n- **ExcludeTags** (Optional) : **string[]?**    :\nThis feature is for users to store the tag. It does not need to be validated.\nAt the same time, the `excludeTag` and `Tag` cannot store and the plugin will generate warning messages regarding\n it.\n\n- **ExcludeOperations** (Optional) : **string[]?**  :\nThis feature is for users to store the operations that do not need to be validated.\nAt the same time, the `excludeOperations` and  `Operations` can not store and they will generate warning messages.\nThe `Tag` feature can store with `excludeOperations`. Then, all the tag operations will be validated except the `exclude`\n operations.\n \n- **FailOnErrors** (Optional) : **boolean value**   :\nIf you need to turn off the validation, add this to the annotation with the value as `false`.", "apiDocURL":"https://docs.central.ballerina.io/ballerina/openapi/0.9.0-beta.1", "packageUrl":"/ballerina/openapi/0.9.0-beta.1"}], "pullCount":439}, {"organization":"bc2testorg", "name":"bctestfxtuho8x4t", "version":"13.5.7", "platform":"any", "languageSpecificationVersion":"v2020-12-17", "URL":"/bc2testorg/bctestfxtuho8x4t/13.5.7", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/bc2testorg/bctestfxtuho8x4t/13.5.7/bc2testorg-bctestfxtuho8x4t-any-13.5.7.bala", "digest":"sha-256=8afdd55253f733e7214f82e877090ec84be4f7df4fcab11f4d2876818311b81b", "summary":"", "readme":"# Sample github package", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slalpha3", "icon":"", "createdDate":1622656370000, "modules":[], "pullCount":1}, {"organization":"hevayo", "name":"beta1", "version":"0.2.0", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/hevayo/beta1/0.2.0", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/hevayo/beta1/0.2.0/hevayo-beta1-java11-0.2.0.bala", "digest":"sha-256=aa675f3421d7f9ba9b657d52025163c92e62237dcb248dde93532c9fe29c082a", "summary":"Prints \"Hello World!\" with a hello function.", "readme":"Prints \"Hello World!\" with a hello function.\n\n# Package Overview\nPrints \"Hello World!\" as the output to the command line using a hello function.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622654158000, "modules":[{"name":"beta1", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/hevayo/beta1/0.2.0", "packageUrl":"/hevayo/beta1/0.2.0"}], "pullCount":4}, {"organization":"hasitha", "name":"testModule", "version":"0.0.4", "platform":"any", "languageSpecificationVersion":"2021R1", "URL":"/hasitha/testModule/0.0.4", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/hasitha/testModule/0.0.4/hasitha-testModule-any-0.0.4.bala", "digest":"sha-256=c4bde7952f304a6fff47b81b24ac399144b807a7267dbf5cd4f9b8f54f0625f0", "summary":"This is a Test Module\r", "readme":"This is a Test Module\r\n\r\nSome other texts\r", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622652058000, "modules":[{"name":"testModule", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/hasitha/testModule/0.0.4", "packageUrl":"/hasitha/testModule/0.0.4"}], "pullCount":4}, {"organization":"ballerinax", "name":"java.jdbc", "version":"0.6.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/java.jdbc/0.6.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/java.jdbc/0.6.0-beta.1/ballerinax-java.jdbc-java11-0.6.0-beta.1.bala", "digest":"sha-256=0c8349c0a285a79e1f02ca62171189a31f05b4fb89cd9226be1a77252917d871", "summary":"", "readme":"## Package Overview\n\nThe `jdbc` library is one of the external library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language. This external package is maintained by the Ballerina team.\n\nIt provides the functionality required to access and manipulate data stored in any type of relational database\nthat is accessible via Java Database Connectivity (JDBC).\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n- Discuss code changes of the Ballerina project in ballerina-dev@googlegroups.com.\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622649980000, "modules":[{"name":"java.jdbc", "summary":"", "readme":"## Overview\n\nThis module provides the functionality that is required to access and manipulate data stored in any type of relational database,\nwhich is accessible via Java Database Connectivity (JDBC).\n\n**Prerequisite:** Add the JDBC driver corresponding to the database you are trying to interact with\nas a native library dependency in your Ballerina project. Then, once you build the project by executing the `ballerina build`\ncommand, you should be able to run the resultant by executing the `ballerina run` command.\n\nE.g., The `Ballerina.toml` content for an H2 database will be as follows.\nChange the path to the JDBC driver appropriately.\n\n```toml\n[package]\norg = \"sample\"\nname = \"jdbc\"\nversion= \"0.1.0\"\n\n[[platform.java11.dependency]]\nartifactId = \"h2\"\nversion = \"1.4.200\"\npath = \"\/path\/to\/com.h2database.h2-1.4.200.jar\"\ngroupId = \"com.h2database\"\n``` \n\n### Client\nTo access a database, you must first create a\n[jdbc:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/clients\/Client) object.\nThe examples for creating a JDBC client can be found below.\n\n#### Creating a Client\nThis example shows the different ways of creating the `jdbc:Client`. The client can be created by passing\nthe JDBC URL, which is a mandatory property and all other fields are optional.\n\nThe `dbClient` receives only the database URL.\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (\"jdbc:h2:~\/path\/to\/database\");\n```\n\nThe `dbClient` receives the username and password in addition to the URL.\nIf the properties are passed in the same order as they are defined in the `jdbc:Client`, you can pass them\nwithout named params.\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (\"jdbc:h2:~\/path\/to\/database\", \n                            \"root\", \"root\");\n```\n\nThe `dbClient` uses the named params to pass all the attributes and provides the `options` property in the type of\n[jdbc:Options](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/records\/Options),\nand also uses the unshared connection pool in the type of\n[sql:ConnectionPool](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).\nFor more information about connection pooling, see the [`sql` module](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest).\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (url =  \"jdbc:h2:~\/path\/to\/database\",\n                             user = \"root\", password = \"root\",\n                             options = {\n                                 datasourceName: \"org.h2.jdbcx.JdbcDataSource\"\n                             },\n                             connectionPool = {\n                                 maxOpenConnections: 5\n                             });\n```\n\nThe `dbClient` receives some custom properties within the\n[jdbc:Options](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/records\/Options),   \nand those properties will be used by the defined `datasourceName`.\nAs per the provided example, the `org.h2.jdbcx.JdbcDataSource` datasource  will be configured with a `loginTimeout`\nof `2000` milliseconds.\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (url =  \"jdbc:h2:~\/path\/to\/database\", \n                             user = \"root\", password = \"root\",\n                             options = {\n                                datasourceName: \"org.h2.jdbcx.JdbcDataSource\", \n                                properties: {\"loginTimeout\": \"2000\"}\n                             });                          \n```\n\nYou can find more details about each property in the\n[jdbc:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/clients\/Client) constructor.\n\nThe [jdbc:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/clients\/Client) references\n[sql:Client](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/clients\/Client) and\nall the operations defined by the `sql:Client` will be supported by the `jdbc:Client` as well.\n\n#### Connection Pool Handling\n\nAll ballerina database modules share the same connection pooling concept and there are three possible scenarios for\nconnection pool handling.  For its properties and possible values, see the [`sql:ConnectionPool`](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).\n\n1. Global shareable default connection pool\n\n   If you do not provide the `poolOptions` field when creating the database client, a globally-shareable pool will be\n   created for your database unless a connection pool matching with the properties you provided already exists.\n   The JDBC module example below shows how the global connection pool is used.\n\n   E.g., The DB client creation for an H2 database is as follows.\n   ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (\"jdbc:h2:~\/path\/to\/database\", \n                                \"root\", \"root\");\n    ```\n\n2. Client owned, unsharable connection pool\n\n   If you define the `connectionPool` field inline when creating the database client with the `sql:ConnectionPool` type,\n   an unsharable connection pool will be created. The JDBC module example below shows how the global\n   connection pool is used.\n\n   E.g., The DB client creation for an H2 database is as follows.\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (url = \"jdbc:h2:~\/path\/to\/database\", \n                               connectionPool = { maxOpenConnections: 5 });\n    ```\n\n3. Local, shareable connection pool\n\n   If you create a record of type `sql:ConnectionPool` and reuse that in the configuration of multiple clients,\n   for each set of clients that connects to the same database instance with the same set of properties, a shared\n   connection pool will be created. The JDBC module example below shows how the global connection pool is used.\n\n   E.g., The DB client creation for an H2 database is as follows.\n    ```ballerina\n    sql:ConnectionPool connPool = {maxOpenConnections: 5};\n    \n    jdbc:Client|sql:Error dbClient1 =       \n                               new (url = \"jdbc:h2:~\/path\/to\/database\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient2 = \n                               new (url = \"jdbc:h2:~\/path\/to\/database\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient3 = \n                               new (url = \"jdbc:h2:~\/path\/to\/database\",\n                               connectionPool = connPool);\n    ```\n   \n#### Closing the Client\n\nOnce all the database operations are performed, you can close the database client you have created by invoking the `close()`\noperation. This will close the corresponding connection pool if it is not shared by any other database clients. \n\n```ballerina\nerror? e = dbClient.close();\n```\nOr\n```ballerina\ncheck dbClient.close();\n```\n\n### Database Operations\n\nOnce the client is created, database operations can be executed through that client. This module defines the interface\nand common properties that are shared among multiple database clients.  It also supports querying, inserting, deleting,\nupdating, and batch updating data.\n\n#### Creating Tables\n\nThis sample creates a table with two columns. One column is of type `int` and the other is of type `varchar`.\nThe `CREATE` statement is executed via the `execute` remote function of the client.\n\n```ballerina\n\/\/ Create the ‘Students’ table with the  ‘id’, 'name', and ‘age’ fields.\nsql:ExecutionResult ret = check dbClient->execute(\"CREATE TABLE student(id INT AUTO_INCREMENT, \" +\n                         \"age INT, name VARCHAR(255), PRIMARY KEY (id))\");\n\/\/A value of the sql:ExecutionResult type is returned for 'ret'. \n```\n\n#### Inserting Data\n\nThis sample shows three examples of data insertion by executing an `INSERT` statement using the `execute` remote function\nof the client.\n\nIn the first example, the query parameter values are passed directly into the query statement of the `execute`\nremote function.\n\n```ballerina\nsql:ExecutionResult ret = check dbClient->execute(\"INSERT INTO student(age, name) \" +\n                         \"values (23, 'john')\");\n```\n\nIn the second example, the parameter values, which are in local variables are used to parameterize the SQL query in\nthe `execute` remote function. This type of parameterized SQL query can be used with any primitive Ballerina type\nlike `string`, `int`, `float`, or `boolean` and in that case, the corresponding SQL type of the parameter is derived\nfrom the type of the Ballerina variable that is passed in.\n\n```ballerina\nstring name = \"Anne\";\nint age = 8;\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\nIn the third example, the parameter values are passed as a `sql:TypedValue` to the `execute` remote function. Use the\ncorresponding subtype of the `sql:TypedValue` such as `sql:Varchar`, `sql:Char`, `sql:Integer`, etc., when you need to\nprovide more details such as the exact SQL type of the parameter.\n\n```ballerina\nsql:VarcharValue name = new (\"James\");\nsql:IntegerValue age = new (10);\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\n#### Inserting Data With Auto-generated Keys\n\nThis example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the\n`execute` remote function to execute the `INSERT` statement.\n\n```ballerina\nint age = 31;\nstring name = \"Kate\";\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResultret = check dbClient->execute(query);\n\/\/Number of rows affected by the execution of the query.\nint? count = ret.affectedRowCount;\n\/\/The integer or string generated by the database in response to a query execution.\nstring|int? generatedKey = ret.lastInsertId;\n}\n```\n\n#### Querying Data\n\nThis sample shows three examples to demonstrate the different usages of the `query` operation and query the\ndatabase table and obtain the results.\n\nThis example demonstrates querying data from a table in a database.\nFirst, a type is created to represent the returned result set. Note that the mapping of the database column\nto the returned record's property is case-insensitive (i.e., the `ID` column in the result can be mapped to the `id`\nproperty in the record). Next, the `SELECT` query is executed via the `query` remote function of the client by passing that\nresult set type. Once the query is executed, each data record can be retrieved by looping the result set. The `stream`\nreturned by the select operation holds a pointer to the actual data in the database and it loads data from the table\nonly when it is accessed. This stream can be iterated only once.\n\n```ballerina\n\/\/ Define a type to represent the results.\ntype Student record {\n    int id;\n    int age;\n    string name;\n};\n\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as\n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<Student, sql:Error> resultStream = \n        <stream<Student, sql:Error>> dbClient->query(query, Student);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(Student student) {\n   \/\/Can perform any operations using 'student' and can access any fields in the returned record of type Student.\n});\n```\n\nDefining the return type is optional and you can query the database without providing the result type. Hence,\nthe above example can be modified as follows with an open record type as the return type. The property name in the open record\ntype will be the same as how the column is defined in the database.\n\n```ballerina\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as \n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<record{}, sql:Error> resultStream = dbClient->query(query);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(record{} student) {\n    \/\/Can perform any operations using 'student' and can access any fields in the returned record.\n});\n```\n\nThere are situations in which you may not want to iterate through the database and in that case, you may decide\nto only use the `next()` operation in the result `stream` and retrieve the first record. In such cases, the returned\nresult stream will not be closed and you have to explicitly invoke the `close` operation on the\n`sql:Client` to release the connection resources and avoid a connection leak as shown below.\n\n```ballerina\nstream<record{}, sql:Error> resultStream = \n            dbClient->query(\"SELECT count(*) as total FROM students\");\n\nrecord {|record {} value;|}|error? result = resultStream.next();\n\nif result is record {|record {} value;|} {\n    \/\/valid result is returned.\n} else if result is error {\n    \/\/ An error is returned as the result.\n} else {\n    \/\/ Student table must be empty.\n}\n\nerror? e = resultStream.close();\n```\n\n#### Updating Data\n\nThis example demonstrates modifying data by executing an `UPDATE` statement via the `execute` remote function of\nthe client.\n\n```ballerina\nint age = 23;\nsql:ParameterizedQuery query = `UPDATE students SET name = 'John' \n                                WHERE age = ${age}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Deleting Data\n\nThis example demonstrates deleting data by executing a `DELETE` statement via the `execute` remote function of\nthe client.\n\n```ballerina\nstring name = \"John\";\nsql:ParameterizedQuery query = `DELETE from students WHERE name = ${name}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Batch Updating Data\n\nThis example demonstrates how to insert multiple records with a single `INSERT` statement that is executed via the\n`batchExecute` remote function of the client. This is done by creating a `table` with multiple records and\nparameterized SQL query as same as the  above `execute` operations.\n\n```ballerina\n\/\/ Create the table with the records that need to be inserted.\nvar data = [\n  { name: \"John\", age: 25  },\n  { name: \"Peter\", age: 24 },\n  { name: \"jane\", age: 22 }\n];\n\n\/\/ Do the batch update by passing the batches.\nsql:ParameterizedQuery[] batch = from var row in data\n                                 select `INSERT INTO students ('name', 'age')\n                                 VALUES (${row.name}, ${row.age})`;\nsql:ExecutionResult[] ret = check dbClient->batchExecute(batch);\n```\n\n#### Execute SQL Stored Procedures\n\nThis example demonstrates how to execute a stored procedure with a single `INSERT` statement that is executed via the\n`call` remote function of the client.\n\n```ballerina\nint uid = 10;\nsql:IntegerOutParameter insertId = new;\n\nsql:ProcedureCallResult|sql:Error ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);\nif ret is error {\n    \/\/An error returned\n} else {\n    stream<record{}, sql:Error>? resultStr = ret.queryResult;\n    if resultStr is stream<record{}, sql:Error> {\n        sql:Error? e = resultStr.forEach(function(record{} result) {\n        \/\/can perform operations using 'result'.\n      });\n    }\n    check ret.close();\n}\n```\nNote that you have to explicitly invoke the close operation on the `sql:ProcedureCallResult` to release the connection resources and avoid a connection leak as shown above.\n\n>**Note:** The default thread pool size used in Ballerina is: [the number of processors available * 2]. You can configure\nthe thread pool size by using the `BALLERINA_MAX_POOL_SIZE` environment variable.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/java.jdbc/0.6.0-beta.1", "packageUrl":"/ballerinax/java.jdbc/0.6.0-beta.1"}], "pullCount":7}, {"organization":"ballerinax", "name":"mysql", "version":"0.7.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/mysql/0.7.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/mysql/0.7.0-beta.1/ballerinax-mysql-java11-0.7.0-beta.1.bala", "digest":"sha-256=ee6538d4b412e5c55260ea2916661936568dcfce0ab36ea4304db7fd550cd39f", "summary":"", "readme":"## Package overview\n\nThe `mysql` library is one of the external library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language.  This external package is maintained by the Ballerina team.\n\nThis provides the functionality required to access and manipulate data stored in a MySQL database.\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n- Discuss code changes of the Ballerina project in ballerina-dev@googlegroups.com.\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622649953000, "modules":[{"name":"mysql", "summary":"", "readme":"## Overview\n\nThis module provides the functionality required to access and manipulate data stored in a MySQL database.\n\n**Prerequisite:** Add the MySQL driver JAR as a native library dependency in your Ballerina project.\nThis module uses the database properties from the MySQL version 8.0.13 onwards. Therefore, it is recommended to use a\nMySQL driver version greater than 8.0.13. Then, once you build the project by executing the `ballerina build`\ncommand, you should be able to run the resultant by executing the `ballerina run` command.\n\nE.g., The `Ballerina.toml` content.\nChange the path to the JDBC driver appropriately.\n\n```toml\n[package]\norg = \"sample\"\nname = \"mysql\"\nversion= \"0.1.0\"\n\n[[platform.java11.dependency]]\nartifactId = \"mysql-connector-java\"\nversion = \"8.0.17\"\npath = \"\/path\/to\/mysql-connector-java-8.0.17.jar\"\ngroupId = \"mysql\"\n``` \n\n### Client\nTo access a database, you must first create a\n[mysql:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/clients\/Client) object.\nThe examples for creating a MySQL client can be found below.\n\n#### Creating a Client\nThis example shows the different ways of creating the `mysql:Client`.\n\nThe client can be created with an empty constructor, and thereby, the client will be initialized with the default properties.\n\n```ballerina\nmysql:Client|sql:Error dbClient = new ();\n```\n\nThe `dbClient` receives the host, username, and password. Since the properties are passed in the same order as they are defined\nin the `jdbc:Client`, you can pass them without named params.\n\n```ballerina\nmysql:Client|sql:Error dbClient = new (\"localhost\", \"rootUser\", \"rooPass\", \n                              \"information_schema\", 3306);\n```\n\nThe `dbClient` uses the named params to pass the attributes since it is skipping some params in the constructor.\nFurther, the [`mysql:Options`](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/records\/Options)\nproperty is passed to configure the SSL and connection timeout in the MySQL client.\n\n```ballerina\nmysql:Options mysqlOptions = {\n  ssl: {\n    mode: mysql:SSL_PREFERRED\n  },\n  connectTimeout: 10\n};\nmysql:Client|sql:Error dbClient = new (user = \"rootUser\", password = \"rootPass\",\n                              options = mysqlOptions);\n```\n\nSimilarly, the `dbClient` uses the named params and it provides an unshared connection pool of the type of\n[sql:ConnectionPool](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool)\nto be used within the client.\nFor more details about connection pooling, see the [`sql` Module](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest).\n\n```ballerina\nmysql:Client|sql:Error dbClient = new (user = \"rootUser\", password = \"rootPass\",\n                              connectionPool = {maxOpenConnections: 5});\n```\n\n#### Using SSL\nTo connect the MySQL database using an SSL connection, you must add the SSL configurations to the `mysql:Options` when creating the `dbClient`.\nFor the SSL Mode, you can select one of the modes: `mysql:SSL_PREFERRED`, `mysql:SSL_REQUIRED`, `mysql:SSL_VERIFY_CA`, or `mysql:SSL_VERIFY_IDENTITY` according to the requirement.\nFor the key and cert files, you must provide the files in the `.p12` format.\n\n```ballerina\nstring clientStorePath = \"\/path\/to\/keystore.p12\";\nstring turstStorePath = \"\/path\/to\/truststore.p12\";\n\nmysql:Options mysqlOptions = {\n  ssl: {\n    mode: mysql:SSL_PREFERRED,\n    key: {\n        path: clientStorePath,\n        password: \"password\"\n    },\n    cert: {\n        path: turstStorePath,\n        password: \"password\"\n    }\n  }\n};\n```\n#### Connection Pool Handling\n\nAll database modules share the same connection pooling concept and there are three possible scenarios for \nconnection pool handling.  For its properties and possible values, see the [`sql:ConnectionPool`](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).\n\n1. Global, shareable, default connection pool\n\n    If you do not provide the `poolOptions` field when creating the database client, a globally-shareable pool will be \n    created for your database unless a connection pool matching with the properties you provided already exists. \n    The JDBC module example below shows how the global connection pool is used. \n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (\"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                                \"root\", \"root\");\n    ```\n\n2. Client owned, unsharable connection pool\n\n    If you define the `connectionPool` field inline when creating the database client with the `sql:ConnectionPool` type, \n    an unsharable connection pool will be created. The JDBC module example below shows how the global \n    connection pool is used.\n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                               connectionPool = { maxOpenConnections: 5 });\n    ```\n\n3. Local, shareable connection pool\n\n    If you create a record of type `sql:ConnectionPool` and reuse that in the configuration of multiple clients, \n    for each set of clients that connects to the same database instance with the same set of properties, a shared \n    connection pool will be created. The JDBC module example below shows how the global connection pool is used.\n\n    ```ballerina\n    sql:ConnectionPool connPool = {maxOpenConnections: 5};\n    \n    jdbc:Client|sql:Error dbClient1 =       \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient2 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient3 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    ```\n   \nFor more details about each property, see the [`mysql:Client`](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/clients\/Client) constructor.\n\nThe [mysql:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/clients\/Client) references\n[sql:Client](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/clients\/Client) and all the operations\ndefined by the `sql:Client` will be supported by the `mysql:Client` as well.\n \n#### Closing the Client\n\nOnce all the database operations are performed, you can close the database client you have created by invoking the `close()`\noperation. This will close the corresponding connection pool if it is not shared by any other database clients. \n\n```ballerina\nerror? e = dbClient.close();\n```\nor\n```ballerina\ncheck dbClient.close();\n```\n\n### Database Operations\n\nOnce the client is created, database operations can be executed through that client. This module defines the interface \nand common properties that are shared among multiple database clients.  It also supports querying, inserting, deleting, \nupdating, and batch updating data.  \n\n#### Creating Tables\n\nThis sample creates a table with two columns. One column is of type `int` and the other is of type `varchar`.\nThe `CREATE` statement is executed via the `execute` remote function of the client.\n\n```ballerina\n\/\/ Create the ‘Students’ table with the  ‘id’, 'name', and ‘age’ fields.\nsql:ExecutionResult ret = check dbClient->execute(\"CREATE TABLE student(id INT AUTO_INCREMENT, \" +\n                         \"age INT, name VARCHAR(255), PRIMARY KEY (id))\");\n\/\/A value of the`sql:ExecutionResult` type is returned for 'ret'. \n```\n\n#### Inserting Data\n\nThis sample shows three examples of data insertion by executing an `INSERT` statement using the `execute` remote function \nof the client.\n\nIn the first example, the query parameter values are passed directly into the query statement of the `execute` \nremote function.\n\n```ballerina\nsql:ExecutionResult ret = check dbClient->execute(\"INSERT INTO student(age, name) \" +\n                         \"values (23, 'john')\");\n```\n\nIn the second example, the parameter values, which are in local variables are used to parameterize the SQL query in \nthe `execute` remote function. This type of a parameterized SQL query can be used with any primitive Ballerina type \nlike `string`, `int`, `float`, or `boolean` and in that case, the corresponding SQL type of the parameter is derived \nfrom the type of the Ballerina variable that is passed in. \n\n```ballerina\nstring name = \"Anne\";\nint age = 8;\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\nIn the third example, the parameter values are passed as an `sql:TypedValue` to the `execute` remote function. Use the \ncorresponding subtype of the `sql:TypedValue` such as `sql:Varchar`, `sql:Char`, `sql:Integer`, etc. when you need to \nprovide more details such as the exact SQL type of the parameter.\n\n```ballerina\nsql:VarcharValue name = new (\"James\");\nsql:IntegerValue age = new (10);\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\n#### Inserting Data With Auto-generated Keys\n\nThis example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the \n`execute` remote function to execute the `INSERT` statement.\n\n```ballerina\nint age = 31;\nstring name = \"Kate\";\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResultret = check dbClient->execute(query);\n\/\/Number of rows affected by the execution of the query.\nint? count = ret.affectedRowCount;\n\/\/The integer or string generated by the database in response to a query execution.\nstring|int? generatedKey = ret.lastInsertId;\n}\n```\n\n#### Querying Data\n\nThis sample shows three examples to demonstrate the different usages of the `query` operation to query the\ndatabase table and obtain the results. \n\nThis example demonstrates querying data from a table in a database. \nFirst, a type is created to represent the returned result set. Note the mapping of the database column \nto the returned record's property is case-insensitive (i.e., the `ID` column in the result can be mapped to the `id` \nproperty in the record). Next, the `SELECT` query is executed via the `query` remote function of the client by passing that \nresult set type. Once the query is executed, each data record can be retrieved by looping the result set. The `stream` \nreturned by the `SELECT` operation holds a pointer to the actual data in the database and it loads data from the table \nonly when it is accessed. This stream can be iterated only once. \n\n```ballerina\n\/\/ Define a type to represent the results.\ntype Student record {\n    int id;\n    int age;\n    string name;\n};\n\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as\n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<Student, sql:Error> resultStream = \n        <stream<Student, sql:Error>> dbClient->query(query, Student);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(Student student) {\n   \/\/Can perform any operations using 'student' and can access any fields in the returned record of type `Student`.\n});\n```\n\nDefining the return type is optional and you can query the database without providing the result type. Hence, \nthe above example can be modified as follows with an open record type as the return type. The property name in the open record \ntype will be the same as how the column is defined in the database. \n\n```ballerina\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as \n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<record{}, sql:Error> resultStream = dbClient->query(query);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(record{} student) {\n    \/\/Can perform any operations using 'student' and can access any fields in the returned record.\n});\n```\n\nThere are situations in which you may not want to iterate through the database and in that case, you may decide\nto only use the `next()` operation in the result `stream` and retrieve the first record. In such cases, the returned\nresult stream will not be closed and you have to invoke the `close` operation explicitly on the \n`sql:Client` to release the connection resources and avoid a connection leak as shown below.\n\n```ballerina\nstream<record{}, sql:Error> resultStream = \n            dbClient->query(\"SELECT count(*) as total FROM students\");\n\nrecord {|record {} value;|}|error? result = resultStream.next();\n\nif result is record {|record {} value;|} {\n    \/\/A valid result is returned.\n} else if result is error {\n    \/\/ An error is returned as the result.\n} else {\n    \/\/ The `Student` table must be empty.\n}\n\nerror? e = resultStream.close();\n```\n\n#### Updating Data\n\nThis example demonstrates modifying data by executing an `UPDATE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nint age = 23;\nsql:ParameterizedQuery query = `UPDATE students SET name = 'John' \n                                WHERE age = ${age}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Deleting Data\n\nThis example demonstrates deleting data by executing a `DELETE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nstring name = \"John\";\nsql:ParameterizedQuery query = `DELETE from students WHERE name = ${name}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Batch Updating Data\n\nThis example demonstrates how to insert multiple records with a single `INSERT` statement that is executed via the \n`batchExecute` remote function of the client. This is done by creating a `table` with multiple records and \nparameterized SQL query as same as the  above `execute` operations.\n\n```ballerina\n\/\/ Create the table with the records that need to be inserted.\nvar data = [\n  { name: \"John\", age: 25  },\n  { name: \"Peter\", age: 24 },\n  { name: \"jane\", age: 22 }\n];\n\n\/\/ Do the batch update by passing the batches.\nsql:ParameterizedQuery[] batch = from var row in data\n                                 select `INSERT INTO students ('name', 'age')\n                                 VALUES (${row.name}, ${row.age})`;\nsql:ExecutionResult[] ret = check dbClient->batchExecute(batch);\n```\n\n#### Execute SQL Stored Procedures\n\nThis example demonstrates how to execute a stored procedure with a single `INSERT` statement that is executed via the \n`call` remote function of the client.\n\n```ballerina\nint uid = 10;\nsql:IntegerOutParameter insertId = new;\n\nsql:ProcedureCallResult|sql:Error ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);\nif ret is error {\n    \/\/An error returned\n} else {\n    stream<record{}, sql:Error>? resultStr = ret.queryResult;\n    if resultStr is stream<record{}, sql:Error> {\n        sql:Error? e = resultStr.forEach(function(record{} result) {\n        \/\/can perform operations using 'result'.\n      });\n    }\n    check ret.close();\n}\n```\n\nNote that you have to invoke the close operation on the `sql:ProcedureCallResult` explicitly to release the connection resources and avoid a connection leak as shown above.\n\n>**Note:** The default thread pool size used in Ballerina is: [the number of processors available * 2]. You can configure\nthe thread pool size by using the `BALLERINA_MAX_POOL_SIZE` environment variable.\n> ", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/mysql/0.7.0-beta.1", "packageUrl":"/ballerinax/mysql/0.7.0-beta.1"}], "pullCount":7}, {"organization":"ballerina", "name":"sql", "version":"0.6.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/sql/0.6.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/sql/0.6.0-beta.1/ballerina-sql-java11-0.6.0-beta.1.bala", "digest":"sha-256=528214d75b78d3f14b15f1aede0b8ed1c2f3ec1c6ef5c8eeeed0d5f1ffac0a8d", "summary":"", "readme":"## Package Overview\n\nThe SQL library is one of the standard library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language.\n\nIt provides the common interface and functionality to interact with a database. The corresponding database clients can be created by using specific database packages such as MySQL or using the Java Database Connectivity package JDBC.\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n- Discuss the code changes of the Ballerina project in ballerina-dev@googlegroups.com.\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622649565000, "modules":[{"name":"sql", "summary":"", "readme":"## Overview\n\nThis module provides the common interface and functionality to interact with a database. The corresponding database\nclients can be created by using specific database modules such as `mysql` or using the Java Database Connectivity \nmodule `jdbc`.\n\n### List of Database Modules\nBallerina now has the [`jdbc` module](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest) as the generic DB connector module to connect to any relational database by simply providing the JDBC URL and the other related properties.\nBallerina also provides specially designed various database-specific DB connectors so that you can work with different databases and you can access their DB-specific functionalities.\n\n### Client\n\nThe database client should be created using any of the above-listed database modules and once it is created, the operations and functionality explained below can be used. \n\n#### Connection Pool Handling\n\nAll database modules share the same connection pooling concept and there are three possible scenarios for \nconnection pool handling.  For its properties and possible values, see the [`sql:ConnectionPool`](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).  \n\n1. Global, shareable, default connection pool\n\n    If you do not provide the `poolOptions` field when creating the database client, a globally-shareable pool will be \n    created for your database unless a connection pool matching with the properties you provided already exists. \n    The JDBC module example below shows how the global connection pool is used. \n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (\"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                                \"root\", \"root\");\n    ```\n\n2. Client-owned, unsharable connection pool\n\n    If you define the `connectionPool` field inline when creating the database client with the `sql:ConnectionPool` type, \n    an unsharable connection pool will be created. The JDBC module example below shows how the global \n    connection pool is used.\n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                               connectionPool = { maxOpenConnections: 5 });\n    ```\n\n3. Local, shareable connection pool\n\n    If you create a record of the `sql:ConnectionPool` type and reuse that in the configuration of multiple clients, \n    for each set of clients that connects to the same database instance with the same set of properties, a shared \n    connection pool will be created. The JDBC module example below shows how the global connection pool is used.\n\n    ```ballerina\n    sql:ConnectionPool connPool = {maxOpenConnections: 5};\n    \n    jdbc:Client|sql:Error dbClient1 =       \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient2 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient3 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    ```\n    \n#### Closing the Client\n\nOnce all the database operations are performed, you can close the database client you have created by invoking the `close()`\noperation. This will close the corresponding connection pool if it is not shared by any other database clients. \n\n```ballerina\nerror? e = dbClient.close();\n```\nOr\n```ballerina\ncheck dbClient.close();\n```\n\n### Database Operations\n\nOnce the client is created, database operations can be executed through that client. This module defines the interface \nand common properties that are shared among multiple database clients.  It also supports querying, inserting, deleting, \nupdating, and batch updating data.  \n\n#### Creating Tables\n\nThis sample creates a table with two columns. One column is of type `int` and the other is of type `varchar`.\nThe `CREATE` statement is executed via the `execute` remote function of the client.\n\n```ballerina\n\/\/ Create the ‘Students’ table with the  ‘id’, 'name', and ‘age’ fields.\nsql:ExecutionResult ret = check dbClient->execute(\"CREATE TABLE student(id INT AUTO_INCREMENT, \" +\n                         \"age INT, name VARCHAR(255), PRIMARY KEY (id))\");\n\/\/A value of the sql:ExecutionResult type is returned for 'ret'. \n```\n\n#### Inserting Data\n\nThis sample shows three examples of data insertion by executing an `INSERT` statement using the `execute` remote function \nof the client.\n\nIn the first example, the query parameter values are passed directly into the query statement of the `execute` \nremote function.\n\n```ballerina\nsql:ExecutionResult ret = check dbClient->execute(\"INSERT INTO student(age, name) \" +\n                         \"values (23, 'john')\");\n```\n\nIn the second example, the parameter values, which are in local variables are used to parameterize the SQL query in \nthe `execute` remote function. This type of a parameterized SQL query can be used with any primitive Ballerina type \nlike `string`, `int`, `float`, or `boolean` and in that case, the corresponding SQL type of the parameter is derived \nfrom the type of the Ballerina variable that is passed in. \n\n```ballerina\nstring name = \"Anne\";\nint age = 8;\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\nIn the third example, the parameter values are passed as a `sql:TypedValue` to the `execute` remote function. Use the \ncorresponding subtype of the `sql:TypedValue` such as `sql:Varchar`, `sql:Char`, `sql:Integer`, etc., when you need to \nprovide more details such as the exact SQL type of the parameter.\n\n```ballerina\nsql:VarcharValue name = new (\"James\");\nsql:IntegerValue age = new (10);\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\n#### Inserting Data With Auto-generated Keys\n\nThis example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the \n`execute` remote function to execute the `INSERT` statement.\n\n```ballerina\nint age = 31;\nstring name = \"Kate\";\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResultret = check dbClient->execute(query);\n\/\/Number of rows affected by the execution of the query.\nint? count = ret.affectedRowCount;\n\/\/The integer or string generated by the database in response to a query execution.\nstring|int? generatedKey = ret.lastInsertId;\n}\n```\n\n#### Querying Data\n\nThis sample shows three examples to demonstrate the different usages of the `query` operation to query the\ndatabase table and obtain the results. \n\nThis example demonstrates querying data from a table in a database. \nFirst, a type is created to represent the returned result set. Note the mapping of the database column \nto the returned record's property is case-insensitive (i.e., the `ID` column in the result can be mapped to the `id` \nproperty in the record). Next, the `SELECT` query is executed via the `query` remote function of the client by passing that \nresult set type. Once the query is executed, each data record can be retrieved by looping the result set. The `stream` \nreturned by the select operation holds a pointer to the actual data in the database and it loads data from the table \nonly when it is accessed. This stream can be iterated only once. \n\n```ballerina\n\/\/ Define a type to represent the results.\ntype Student record {\n    int id;\n    int age;\n    string name;\n};\n\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as\n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<Student, sql:Error> resultStream = \n        <stream<Student, sql:Error>> dbClient->query(query, Student);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(Student student) {\n   \/\/Can perform any operations using 'student' and can access any fields in the returned record of type Student.\n});\n```\n\nDefining the return type is optional and you can query the database without providing the result type. Hence, \nthe above example can be modified as follows with an open record type as the return type. The property name in the open record \ntype will be the same as how the column is defined in the database. \n\n```ballerina\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as \n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<record{}, sql:Error> resultStream = dbClient->query(query);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(record{} student) {\n    \/\/Can perform any operations using the 'student' and can access any fields in the returned record.\n});\n```\n\nThere are situations in which you may not want to iterate through the database and in that case, you may decide\nto only use the `next()` operation in the result `stream` and retrieve the first record. In such cases, the returned\nresult stream will not be closed, and you have to explicitly invoke the `close` operation on the \n`sql:Client` to release the connection resources and avoid a connection leak as shown below.\n\n```ballerina\nstream<record{}, sql:Error> resultStream = \n            dbClient->query(\"SELECT count(*) as total FROM students\");\n\nrecord {|record {} value;|}|error? result = resultStream.next();\n\nif result is record {|record {} value;|} {\n    \/\/ A valid result is returned.\n} else if result is error {\n    \/\/ An error is returned as the result.\n} else {\n    \/\/ Student table must be empty.\n}\n\nerror? e = resultStream.close();\n```\n\n#### Updating Data\n\nThis example demonstrates modifying data by executing an `UPDATE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nint age = 23;\nsql:ParameterizedQuery query = `UPDATE students SET name = 'John' \n                                WHERE age = ${age}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Deleting Data\n\nThis example demonstrates deleting data by executing a `DELETE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nstring name = \"John\";\nsql:ParameterizedQuery query = `DELETE from students WHERE name = ${name}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Batch Updating Data\n\nThis example demonstrates how to insert multiple records with a single `INSERT` statement that is executed via the \n`batchExecute` remote function of the client. This is done by creating a `table` with multiple records and \nparameterized SQL query as same as the above `execute` operations.\n\n```ballerina\n\/\/ Create the table with the records that need to be inserted.\nvar data = [\n  { name: \"John\", age: 25  },\n  { name: \"Peter\", age: 24 },\n  { name: \"jane\", age: 22 }\n];\n\n\/\/ Do the batch update by passing the batches.\nsql:ParameterizedQuery[] batch = from var row in data\n                                 select `INSERT INTO students ('name', 'age')\n                                 VALUES (${row.name}, ${row.age})`;\nsql:ExecutionResult[] ret = check dbClient->batchExecute(batch);\n```\n\n#### Execute SQL Stored Procedures\n\nThis example demonstrates how to execute a stored procedure with a single `INSERT` statement that is executed via the \n`call` remote function of the client.\n\n```ballerina\nint uid = 10;\nsql:IntegerOutParameter insertId = new;\n\nsql:ProcedureCallResult|sql:Error ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);\nif ret is error {\n    \/\/An error returned.\n} else {\n    stream<record{}, sql:Error>? resultStr = ret.queryResult;\n    if resultStr is stream<record{}, sql:Error> {\n        sql:Error? e = resultStr.forEach(function(record{} result) {\n        \/\/can perform operations using 'result'.\n      });\n    }\n    check ret.close();\n}\n```\nNote that you have to invoke the close operation explicitly on the `sql:ProcedureCallResult` to release the connection resources and avoid a connection leak as shown above.\n\n>**Note:** The default thread pool size used in Ballerina is: [the number of processors available * 2] . You can configure\nthe thread pool size by using the `BALLERINA_MAX_POOL_SIZE` environment variable.", "apiDocURL":"https://docs.central.ballerina.io/ballerina/sql/0.6.0-beta.1", "packageUrl":"/ballerina/sql/0.6.0-beta.1"}], "pullCount":4}, {"organization":"ballerinax", "name":"rabbitmq", "version":"1.1.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/rabbitmq/1.1.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/rabbitmq/1.1.0-beta.1/ballerinax-rabbitmq-java11-1.1.0-beta.1.bala", "digest":"sha-256=7dedd0fb5c4a63571e083663bd81083cbc2df5c1ee0c6e8a034a5368b6ce232a", "summary":"", "readme":"## Package Overview\n\nThe `rabbitmq` library is one of the standard library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\n\/\"> Ballerina <\/a> language.\n\nThis package provides the capability to send and receive messages by connecting to the RabbitMQ server. RabbitMQ gives your applications a common platform to send and receive messages and a safe place for your messages to live until received. RabbitMQ is one of the most popular open-source message brokers. It is lightweight and easy to deploy on-premise and in the cloud. \n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n\n- Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622648677000, "modules":[{"name":"rabbitmq", "summary":"", "readme":"## Overview\n\nThis module provides the capability to send and receive messages by connecting to the RabbitMQ server.\n\nRabbitMQ gives your applications a common platform to send and receive messages and a safe place for your messages to live until received. RabbitMQ is one of the most popular open-source message brokers. It is lightweight and easy to deploy on-premise and in the cloud.\n\n### Basic Usage\n\n#### Setting Up the Connection\n\nFirst, you need to set up the connection with the RabbitMQ server. The following ways can be used to connect to a\nRabbitMQ server.\n\n1. Connect to a RabbitMQ node with the default host and port:\n```ballerina\n    rabbitmq:Client rabbitmqClient = check new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n```\n\n2. Connect to a RabbitMQ node with a custom host and port:\n```ballerina\n    rabbitmq:Client rabbitmqClient = check new(\"localhost\", 5672);\n```\n\n3. Connect to a RabbitMQ node with host, port, and additional configurations:\n```ballerina\n    rabbitmq:ConnectionConfiguration config = {\n        username: \"ballerina\",\n        password: \"password\"\n    };\n    rabbitmq:Client rabbitmqClient = check new(\"localhost\", 5672, configs);\n```\n\nThe `rabbitmq:Client` can now be used to send and receive messages as described in the subsequent sections.\n\n#### Using Exchanges and Queues\n\nClient applications work with exchanges and queues, which are the high-level building blocks of the AMQP protocol. These must be declared before they can be used. The following code declares an exchange and a server-named queue and then binds them together.\n\n```ballerina\n    check rabbitmqClient->exchangeDeclare(\"MyExchange\", rabbitmq:DIRECT_EXCHANGE);\n    check rabbitmqClient->queueDeclare(\"MyQueue\");\n    check rabbitmqClient->queueBind(\"MyQueue\", \"MyExchange\", \"routing-key\");\n```\n\nThis sample code will declare,\n- a durable auto-delete exchange of the type `rabbitmq:DIRECT_EXCHANGE`\n- a non-durable, exclusive auto-delete queue with an auto-generated name\n\nNext, the `queueBind` function is called to bind the queue to the exchange with the given routing key.\n\n```ballerina\n    check rabbitmqClient->exchangeDeclare(\"MyExchange\", rabbitmq:DIRECT_EXCHANGE);\n    check rabbitmqClient->queueDeclare(\"MyQueue\", { durable: true,\n                                                   exclusive: false,\n                                                   autoDelete: false });\n    check rabbitmqClient->queueBind(\"MyQueue\", \"MyExchange\", \"routing-key\");\n```\n\nThis sample code will declare,\n- a durable auto-delete exchange of the type `rabbitmq:DIRECT_EXCHANGE`\n- a durable, non-exclusive, non-auto-delete queue with a well-known name\n\n#### Deleting Entities and Purging Queues\n\n- Delete a queue:\n```ballerina\n    check rabbitmqClient->queueDelete(\"MyQueue\");\n```\n- Delete a queue only if it is empty:\n```ballerina\n    check rabbitmqClient->queueDelete(\"MyQueue\", false, true);\n```\n- Delete a queue only if it is unused (does not have any consumers):\n```ballerina\n    check rabbitmqClient->queueDelete(\"MyQueue\", true, false);\n```\n- Delete an exchange:\n```ballerina\n    check rabbitmqClient->exchangeDelete(\"MyExchange\");\n```\n- Purge a queue (delete all of its messages):\n```ballerina\n    check rabbitmqClient->queuePurge(\"MyQueue\");\n```\n\n#### Publishing Messages\n\nTo publish a message to an exchange, use the `publishMessage()` function as follows:\n\n```ballerina\n    string message = \"Hello from Ballerina\";\n    check rabbitmqClient->publishMessage({ content: message.toBytes(), routingKey: queueName });\n``` \nSetting other properties of the message such as routing headers can be done by using the `BasicProperties` record with the appropriate values.\n\n```ballerina\n    rabbitmq:BasicProperties props = {\n       replyTo: \"reply-queue\"  \n    };\n    string message = \"Hello from Ballerina\";\n    check rabbitmqClient->publishMessage({ content: message.toBytes(), routingKey: queueName, properties: props });\n```\n\n#### Consuming Messages using Consumer Services\n\nThe most efficient way to receive messages is to set up a subscription using a Ballerina RabbitMQ `rabbitmq:Listener` and any number of consumer services. The messages will then be delivered automatically as they arrive rather than having to be explicitly requested. Multiple consumer services can be bound to one Ballerina RabbitMQ `rabbitmq:Listener`. The queue to which the service is listening is configured in the `rabbitmq:ServiceConfig` annotation of the service or else as the name of the service.\n\n1. Listen to incoming messages with the `onMessage` remote method:\n\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\"\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onMessage(rabbitmq:Message message) {\n        }\n    }\n```\n\n2. Listen to incoming messages and reply directly with the `onRequest` remote method:\n\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\"\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onRequest(rabbitmq:Message message) returns string {\n            return \"Hello Back!\";\n        }\n    }\n```\n\nThe `rabbitmq:Message` record received can be used to retrieve its contents.\n\n### Advanced Usage\n\n#### Client Acknowledgements\n\nThe message consuming is supported by mainly two types of acknowledgement modes, which are auto acknowledgements and client acknowledgements.\nClient acknowledgements can further be divided into two different types as positive and negative acknowledgements.\nThe default acknowledgement mode is auto-ack (messages are acknowledged immediately after consuming). The following examples show the usage of positive and negative acknowledgements.\n> WARNING: To ensure the reliability of receiving messages, use the client-ack mode.\n\n1. Positive client acknowledgement:\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\",\n        autoAck: false\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onMessage(rabbitmq:Message message, rabbitmq:Caller caller) {\n            rabbitmq:Error? result = caller->basicAck();\n        }\n    }\n```\n\n2. Negative client acknowledgement:\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\",\n        autoAck: false\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onMessage(rabbitmq:Message message) {\n            rabbitmq:Error? result = caller->basicNack(true, requeue = false);\n        }\n    }\n```\n\nThe negatively-acknowledged (rejected) messages can be re-queued by setting the `requeue` to `true`.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/rabbitmq/1.1.0-beta.1", "packageUrl":"/ballerinax/rabbitmq/1.1.0-beta.1"}], "pullCount":5}, {"organization":"ballerinax", "name":"kafka", "version":"2.1.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/kafka/2.1.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/kafka/2.1.0-beta.1/ballerinax-kafka-java11-2.1.0-beta.1.bala", "digest":"sha-256=7159ab5a705431b87b813b41b883ad49eba67c8686520ddb7fb630f745703590", "summary":"", "readme":"## Overview\n\nThe `kafka` package is one of the standard library packages of the <a target=\"_blank\" href=\"https:\/\/ballerina.io \/\"> Ballerina<\/a> language.\n\nThis package provides support for the Apache Kafka event streaming platform. This helps to communicate with Kafka brokers as Producers and Consumers. Apache Kafka is an open-source distributed event streaming platform used for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.  \n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina\nStandard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n\n- Discuss about code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622648489000, "modules":[{"name":"kafka", "summary":"", "readme":"## Overview\n\nThis module provides an implementation to interact with Kafka Brokers via Kafka Consumer and Kafka Producer clients.\n\nApache Kafka is an open-source distributed event streaming platform used for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.\n\nThis module supports Kafka 1.x.x and 2.0.0 versions.\n\n### Consumer and Producer\n#### Kafka Producer\nA Kafka producer is a Kafka client that publishes records to the Kafka cluster. The producer is thread-safe and sharing a single producer instance across threads will generally be faster than having multiple instances. When working with a Kafka producer, the first thing to do is to initialize the producer.\nFor the producer to execute successfully, an active Kafka broker should be available.\n\nThe code snippet given below initializes a producer with the basic configuration.\n```ballerina\nimport ballerinax\/kafka;\n\nkafka:ProducerConfiguration producerConfiguration = {\n    clientId: \"basic-producer\",\n    acks: \"all\",\n    retryCount: 3\n};\n\nkafka:Producer kafkaProducer = check new (kafka:DEFAULT_URL, producerConfiguration);\n```\n#### Kafka Consumer\nA Kafka consumer is a subscriber responsible for reading records from one or more topics and one or more partitions of a topic. When working with a Kafka consumer, the first thing to do is initialize the consumer.\nFor the consumer to execute successfully, an active Kafka broker should be available.\n\nThe code snippet given below initializes a consumer with the basic configuration.\n```ballerina\nkafka:ConsumerConfiguration consumerConfiguration = {\n    groupId: \"group-id\",    \/\/ Unique string that identifies the consumer\n    offsetReset: \"earliest\",    \/\/ Offset reset strategy if no initial offset\n    topics: [\"kafka-topic\"]\n};\n\nkafka:Consumer kafkaConsumer = check new (kafka:DEFAULT_URL, consumerConfiguration);\n```\n### Listener\nThe Kafka consumer can be used as a listener to a set of topics without the need to manually `poll` the messages.\n\nYou can use the `Caller` to manually commit the offsets of the messages that are read by the service. The following code snippet shows how to initialize and define the listener and how to commit the offsets manually.\n```ballerina\nkafka:ConsumerConfiguration consumerConfigs = {\n    groupId: \"group-id\",\n    topics: [\"kafka-topic-1\"],\n    pollingInterval: 1,\n    autoCommit: false\n};\n\nlistener kafka:Listener kafkaListener = new (kafka:DEFAULT_URL, consumerConfiguration);\n\nservice kafka:Service on kafkaListener {\n    remote function onConsumerRecord(kafka:Caller caller, kafka:ConsumerRecord[] records) {\n        \/\/ processes the records\n        ...\n        \/\/ commits the offsets manually\n        kafka:Error? commitResult = caller->commit();\n\n        if (commitResult is error) {\n            io:println(\"Error occurred while committing the offsets for the consumer \", 'error = commitResult);\n        }\n    }\n}\n```\n### Data Serialization\nSerialization is the process of converting data into a stream of bytes that is used for transmission. Kafka\nstores and transmits these bytes of arrays in its queue. Deserialization does the opposite of serialization\nin which bytes of arrays are converted into the desired data type.\n\nCurrently, this module only supports the `byte array` data type for both the keys and values. The following code snippets\nshow how to produce and read a message from Kafka.\n```ballerina\nstring message = \"Hello World, Ballerina\";\nstring key = \"my-key\";\n\/\/ converts the message and key to a byte array\ncheck kafkaProducer->send({ topic: \"test-kafka-topic\", key: key.toBytes(), value: message.toBytes() });\n```\n```ballerina\nkafka:ConsumerRecord[] records = check kafkaConsumer->poll(1);\n\nforeach var kafkaRecord in records {\n    byte[] messageContent = kafkaRecord.value;\n    \/\/ tries to generate the string value from the byte array\n    string result = check string:fromBytes(messageContent);\n    io:println(\"The result is : \", result);\n}\n```\n### Concurrency\nIn Kafka, records are grouped into smaller units called partitions. These can be processed independently without\ncompromising the correctness of the results and lays the foundation for parallel processing. This can be achieved by\nusing multiple consumers within the same group each reading and processing data from a subset of topic partitions and \nrunning in a single thread.\n\nTopic partitions are assigned to consumers automatically or you can manually assign topic partitions.\n\nThe following code snippet joins a consumer to the `consumer-group` and assigns it to a topic partition manually.\n```ballerina\nkafka:ConsumerConfiguration consumerConfigs = {\n    \/\/ `groupId` determines the consumer group\n    groupId: \"consumer-group\",\n    pollingInterval: 1,\n    autoCommit: false\n};\n\nkafka:Consumer kafkaConsumer = check new (kafka:DEFAULT_URL, consumerConfiguration);\n\/\/ creates a topic partition\nkafka:TopicPartition topicPartition = {\n    topic: \"kafka-topic-1\",\n    partition: 1\n};\n\/\/ passes the topic partitions to the assign function as an array\ncheck kafkaConsumer->assign([topicPartition]);\n```", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/kafka/2.1.0-beta.1", "packageUrl":"/ballerinax/kafka/2.1.0-beta.1"}], "pullCount":10}, {"organization":"hevayo", "name":"myyaml", "version":"0.2.0", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/hevayo/myyaml/0.2.0", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/hevayo/myyaml/0.2.0/hevayo-myyaml-java11-0.2.0.bala", "digest":"sha-256=37d05a350267d7edc88c137347a231963b229b4a6774a7e76432f23f0562e695", "summary":"Prints \"Hello World!\" with a hello function.", "readme":"Prints \"Hello World!\" with a hello function.\n\n# Package Overview\nPrints \"Hello World!\" as the output to the command line using a hello function.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622647006000, "modules":[{"name":"myyaml", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/hevayo/myyaml/0.2.0", "packageUrl":"/hevayo/myyaml/0.2.0"}], "pullCount":4}, {"organization":"ballerina", "name":"cloud", "version":"2.0.0-beta.1", "platform":"any", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/cloud/2.0.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/cloud/2.0.0-beta.1/ballerina-cloud-any-2.0.0-beta.1.bala", "digest":"sha-256=fe41403a19cf56381adb79fa8cee06e9c53344fc494c569673459b1803683d8c", "summary":"", "readme":"## Package Overview\n\nThis modules provides the capabilities to generate the cloud artifacts for Ballerina programs.\n\nThis module generates the [Kubernetes](https:\/\/kubernetes.io\/) and [Docker](https:\/\/www.docker.com\/) artifacts required to deploy a Ballerina program in the cloud. \n\nSupports following artifact generation:\n- Kubernetes deployment\n- Kubernetes job \n- Kubernetes service\n- Kubernetes liveness probe\n- Kubernetes readiness probe\n- Kubernetes config map\n- Kubernetes horizontal pod autoscaler\n- Docker image generation \n- Dockerfile generation\n\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Code2Cloud repository](https:\/\/github.com\/ballerina-platform\/module-ballerina-c2c).\n\n### Useful Links\n- Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.\n- [Package Guide](https:\/\/ballerina.io\/learn\/user-guide\/deployment\/code-to-cloud\/)", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622638525000, "modules":[{"name":"cloud", "summary":"", "readme":"## Overview\n\nThis modules provides the capabilities to generate the cloud artifacts for Ballerina programs.\n\nThis module generates the [Kubernetes](https:\/\/kubernetes.io\/) and [Docker](https:\/\/www.docker.com\/) artifacts required to deploy a Ballerina program in the cloud. \n\nSupports following artifact generation:\n- Kubernetes deployment \n- Kubernetes service\n- Kubernetes liveness probe\n- Kubernetes readiness probe\n- Kubernetes config map\n- Kubernetes horizontal pod autoscaler\n- Docker image  \n- Dockerfile \n\n\n## Docker artifact generation\n\nBuild the Ballerina Program with `--cloud=docker` option to generate Docker artifacts (Dockerfile and Docker image). \n\n```bash\n$> bal build --cloud=docker\nCompiling source\n\thello\/hello:0.0.1\n\nCreating balas\n\ttarget\/bala\/hello-2020r2-any-0.0.1.bala\n\nRunning Tests\n\n\thello\/hello:0.0.1\n\tNo tests found\n\n\nGenerating executables\n\ttarget\/bin\/hello.jar\n\nGenerating artifacts...\n\n\t@kubernetes:Docker \t\t\t - complete 2\/2\n\n    Execute the below command to run the generated docker image:\n    docker run -d -p 9090:9090 anuruddhal\/hello-api:sample8\n\n    target\/bin\/hello-0.0.1.jar\n``` \n\n## Kubernetes artifact generation\n\nBuild the Ballerina Program with `--cloud=k8s` option to generate Docker and Kubernetes artifacts. \n\n```bash\n$> bal build --cloud=k8s\nCompiling source\n\thello\/hello:0.0.1\n\nCreating balas\n\ttarget\/bala\/hello-2020r2-any-0.0.1.bala\n\nRunning Tests\n\n\thello\/hello:0.0.1\n\tNo tests found\n\n\nGenerating executables\n\ttarget\/bin\/hello.jar\n\nGenerating artifacts...\n\n\t@kubernetes:Service \t\t- complete 1\/1\n\t@kubernetes:Deployment \t    - complete 1\/1\n\t@kubernetes:HPA \t\t\t- complete 1\/1\n\t@kubernetes:Docker \t\t\t- complete 2\/2\n\n\tExecute the below command to deploy the Kubernetes artifacts:\n\tkubectl apply -f \/Users\/anuruddha\/workspace\/ballerinax\/module-ballerina-c2c\/samples\/sample2\/target\/kubernetes\/hello\n\n\tExecute the below command to access service via NodePort:\n\tkubectl expose deployment hello-hello-0-0-deployment --type=NodePort --name=hello-hello-0-0-svc-local\n``` \n\n## Cloud.toml\nThe configuration file to be used to override the default values generated by code to cloud.\nThe `Cloud.toml` file is completely optional and only has to specify the values that need to be overridden. \nIf the value is not specified for a certain field, the compiler will take the default value.\nAll the supported properties can be found [here](https:\/\/ballerina.io\/learn\/user-guide\/deployment\/code-to-cloud\/#properties-of-the-cloudtoml-file).", "apiDocURL":"https://docs.central.ballerina.io/ballerina/cloud/2.0.0-beta.1", "packageUrl":"/ballerina/cloud/2.0.0-beta.1"}], "pullCount":6}], "count":168, "offset":0, "limit":15}