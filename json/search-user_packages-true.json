{"packages":[{"organization":"ballerinax", "name":"slack", "version":"0.9.9", "platform":"java11", "languageSpecificationVersion":"v2020-12-17", "URL":"/ballerinax/slack/0.9.9", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/slack/0.9.9/ballerinax-slack-java11-0.9.9.bala", "digest":"sha-256=0e53b0c0b7c4ae0362013a0d879e91f1919ced38c2b9b103ad9054c092f05179", "summary":"", "readme":"[![Build](https:\/\/github.com\/ballerina-platform\/module-ballerinax-slack\/workflows\/CI\/badge.svg)](https:\/\/github.com\/ballerina-platform\/module-ballerinax-slack\/actions?query=workflow%3ACI)\n[![GitHub Last Commit](https:\/\/img.shields.io\/github\/last-commit\/ballerina-platform\/module-ballerinax-slack.svg)](https:\/\/github.com\/ballerina-platform\/module-ballerinax-slack\/commits\/master)\n[![License](https:\/\/img.shields.io\/badge\/License-Apache%202.0-blue.svg)](https:\/\/opensource.org\/licenses\/Apache-2.0)\n\n# Ballerina Slack Connector \nConnects to Slack using Ballerina\n\n# Introduction\n## Slack\n[Slack](https:\/\/api.slack.com\/) is a channel-based messaging platform. With Slack, people can work together more effectively, connect all their software tools and services, and find the information they need to do their best work — all within a secure, enterprise-grade environment.\n\n## Connector Overview\nThe Ballerina Slack Connector allows you to access the Slack Web API and Slack Events API through Ballerina. This \nconnector can be used to implement some of the most common use cases of Slack. This connector provides the capability\nto query information from and perform some actions in a Slack workspace. This connector also allows you to listen to\nSlack Events.\n\n## Prerequisites\n* Slack Account https:\/\/slack.com\/get-started#\/createnew\n\n* Java 11 Installed - Java Development Kit (JDK) with version 11 is required.\n\n* Ballerina SL Alpha 5 Installed - Ballerina Swan Lake Alpha 5 is required. \n\n## Supported Versions\n|                             |           Version           |\n|:---------------------------:|:---------------------------:|\n| Ballerina Language          |        Swan Lake Alpha 5    |\n\n## Obtaining Slack Token\n1. Visit https:\/\/api.slack.com\/apps and create a Slack App.\n2. In the \"Add features and functionality\" section, Click permissions.\n3. Go to the Scopes section and add necessary OAuth scopes for User Token. (\"channels:write\", \"chat:write\", \"files:read\",\n   \"files:write\", \"users:read\")\n4. Install the app to the workspace.\n5. Get your User OAuth token from the OAuth & Permissions section of your Slack App.\n\n## Module Overview - `ballerinax\/slack`\n\nThe `ballerinax\/slack` module provides a Slack client, which allows you to access the Slack Web API through Ballerina.\n\nThe following sections provide you details on how to use the Slack connector.\n\n- [Feature Overview](#feature-overview)\n- [Quickstart](#quickstart)\n- [Samples](#samples)\n\n## Feature Overview\n\n1. Conducting messaging-related operations. For example, post messages on slack, delete messages, \nsend attachments, etc.\n2. Executing `conversations\/channels`-related operations. For example, create conversations,\njoin a conversation, add users to a conversation, archive\/unarchive conversations, etc.\n3. Conducting `users\/user groups`-related operations. For example, get user information etc.\n4. Performing file-related operations in Slack. For example, upload files, delete files, get file information, etc.\n\n# Quickstart\n\n### Pull the Module\nExecute the below command to pull the Slack module from Ballerina Central:\n```ballerina\n$ ballerina pull ballerinax\/slack\n```\n\n### Slack Client Sample\nThe Slack Client Connector can be used to interact with the Slack Web API.\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/slack;\nimport ballerina\/os;\n\nslack:Configuration slackConfig = {\n    bearerTokenConfig: {\n        token: os:getEnv(\"SLACK_TOKEN\")\n    }\n};\n\npublic function main() returns error? {\n    slack:Client slackClient = check new(slackConfig);\n\n    slack:Message messageParams = {\n        channelName: \"channelName\",\n        text: \"Hello\"\n    };\n\n    \/\/ Post a message to a channel.\n    var postResponse = slackClient->postMessage(messageParams);\n    if (postResponse is string) {\n        log:printInfo(\"Message sent\");\n    } else {\n        log:printError(postResponse.toString());\n    }\n\n    \/\/ List all the conversations.\n    var listConvResponse = slackClient->listConversations();\n    if (listConvResponse is error) {\n        log:printError(listConvResponse.toString());\n    } else {\n        log:printInfo(listConvResponse.toString());\n    }\n\n    \/\/ Upload a file to a channel.\n    var fileResponse = slackClient->uploadFile(\"filePath\", \"channelName\");\n    if (fileResponse is error) {\n        log:printError(fileResponse.toString());\n    } else {\n        log:printInfo(\"Uploaded file \" + fileResponse.id);\n    }\n\n    \/\/ Get user information.\n    var userResponse = slackClient->getUserInfo(\"userName\");\n    if (userResponse is error) {\n        log:printError(userResponse.toString());\n    } else {\n        log:printInfo(\"Found user information of the user \", userResponse.name);\n    }\n}\n```\n## Please check the [Samples directory](https:\/\/github.com\/ballerina-platform\/module-ballerinax-slack\/tree\/master\/samples) for more examples.\n\n\n## Module Overview - `ballerinax\/slack.'listener`\n\nThe `ballerinax\/slack.'listener` module provides a Listener to grasp event triggers from your Slack App. This functionality is provided by [Slack Event API](https:\/\/api.slack.com\/apis\/connections\/events-api). \n\n## Listener Feature Overview\n1. Receive event triggers and event related data from Slack\n2. Validate Slack requests using the Verification token issued and automatic response to Slack API when needed.\n\n## Supported Trigger Types\n1. \"onAppMention\" - Subscribe to only the message events that mention your app or bot\n2. \"onChannelCreated\" - A channel was created\n3. \"onEmojiChanged\" - A custom emoji has been added or changed\n4. \"onFileShared\" - A file was shared\n5. \"onMemberJoinedChannel\" - A user joined a public or private channel\n6. \"onMessage\" - A message was sent to a channel\n7. \"onReactionAdded\" - A member has added an emoji reaction to an item\n8. \"onTeamJoin\" - A new member has joined\n\n## Quickstart\n\n### Prerequisites\n1. Create your own slack app and enable Event Subscription in your slack app settings. \n2. Subscribe to the events that you are planning to listen and save changes.\n3. Obtain verification token from the Basic Information section of your Slack App.\n4. Download and install [Ballerina](https:\/\/ballerinalang.org\/downloads\/).\n5. Install npm and setup the [ngrok](https:\/\/ngrok.com\/download).\n\n### Pull the Module\nExecute the below command to pull the Slack Listener module from Ballerina Central:\n```ballerina\n$ ballerina pull ballerinax\/slack.'listener\n```\n\n### Implementation of the listener\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/slack.'listener as slack;\n\nslack:ListenerConfiguration configuration = {\n    port: 9090,\n    verificationToken: \"VERIFICATION_TOKEN\"\n};\n\nlistener slack:Listener slackListener = new (configuration);\n\nservice \/slack on slackListener {\n    isolated remote function onMessage(slack:MessageEvent eventInfo) returns error? {\n        log:printInfo(\"New Message\");\n        log:printInfo(eventInfo.toString());\n    }\n}\n```\n\n* Write a remote function to receive particular event type. Implement your logic within that function.\n\n* \"onAppMention\", \"onChannelCreated\", \"onEmojiChanged\", \"onFileShared\", \"onMemberJoinedChannel\", \"onMessage\",\n\"onReactionAdded\", \"onTeamJoin\" are the supported event types.\n\n### Register the Request URL\n1. Run your ballerina service (similar to below sample) on prefered port.\n2. Start ngok on same port using the command ``` .\/ngrok http 9090 ```\n3. In Event Subscriptions section of your Slack App settings, paste the URL issued by ngrok following with your service path (eg : ```https:\/\/365fc542d344.ngrok.io\/slack\/events```) \n4. Slack Event API will send a url_verification event containing the token and challenge key value pairs.\n5. Slack Listener will automatically verify the URL by comparing the token and send the required response back to slack \n6. Check whether your Request URL displayed as verified in your Slack.\n7. Subscribe to the events that you are planning to listen and click save changes.\n\n### Receiving events\n* After successful verification of Request URL your ballerina service will receive events. \n\n## Samples\n\n### Slack Listener Sample\n* Following sample code is written to receive triggered event data from Slack Event API.\n* Name of the remote functions written within the service must be one of the supported trigger type.\n   Example: \"onAppMention\", \"onChannelCreated\", \"onEmojiChanged\", \"onFileShared\", \"onMemberJoinedChannel\", \"onMessage\",\n   \"onReactionAdded\", \"onTeamJoin\"\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/slack.'listener as slack;\n\nslack:ListenerConfiguration configuration = {\n    port: 9090,\n    verificationToken: \"VERIFICATION_TOKEN\"\n};\n\nlistener slack:Listener slackListener = new (configuration);\n\nservice \/slack on slackListener {\n    isolated remote function onMessage(slack:MessageEvent eventInfo) returns error? {\n        log:printInfo(\"New Message\");\n        log:printInfo(eventInfo.toString());\n    }\n}\n```\n\n## Please check the [Samples directory](https:\/\/github.com\/ballerina-platform\/module-ballerinax-slack\/tree\/master\/samples) for more examples.", "template":false, "licenses":["Apache-2.0"], "authors":["Ballerina"], "sourceCodeLocation":"https://github.com/ballerina-platform/module-ballerinax-slack", "keywords":["slack"], "ballerinaVersion":"slalpha5", "icon":"", "createdDate":1622798476000, "modules":[{"name":"slack", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/slack/0.9.9", "packageUrl":"/ballerinax/slack/0.9.9"}, {"name":"slack.listener", "summary":"", "readme":"## Module Overview - `ballerinax\/slack.'listener`\n\nThe `ballerinax\/slack.'listener` module provides a Listener to grasp event triggers from your Slack App. This functionality is provided by [Slack Event API](https:\/\/api.slack.com\/apis\/connections\/events-api). \n\n## Listener Feature Overview\n1. Receive event triggers and event related data from Slack\n2. Validate Slack requests using the Verification token issued and automatic response to Slack API when needed.\n\n## Supported Trigger Types\n1. \"onAppMention\" - Subscribe to only the message events that mention your app or bot\n2. \"onChannelCreated\" - A channel was created\n3. \"onEmojiChanged\" - A custom emoji has been added or changed\n4. \"onFileShared\" - A file was shared\n5. \"onMemberJoinedChannel\" - A user joined a public or private channel\n6. \"onMessage\" - A message was sent to a channel\n7. \"onReactionAdded\" - A member has added an emoji reaction to an item\n8. \"onTeamJoin\" - A new member has joined\n\n## Quickstart\n\n### Prerequisites\n1. Create your own slack app and enable Event Subscription in your slack app settings. \n2. Subscribe to the events that you are planning to listen and save changes.\n3. Obtain verification token from the Basic Information section of your Slack App.\n4. Download and install [Ballerina](https:\/\/ballerinalang.org\/downloads\/).\n5. Install npm and setup the [ngrok](https:\/\/ngrok.com\/download).\n\n### Pull the Module\nExecute the below command to pull the Slack Listener module from Ballerina Central:\n```ballerina\n$ ballerina pull ballerinax\/slack.'listener\n```\n\n### Implementation of the listener\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/slack.'listener as slack;\n\nslack:ListenerConfiguration configuration = {\n    port: 9090,\n    verificationToken: \"VERIFICATION_TOKEN\"\n};\n\nlistener slack:Listener slackListener = new (configuration);\n\nservice \/slack on slackListener {\n    isolated remote function onMessage(slack:MessageEvent eventInfo) returns error? {\n        log:printInfo(\"New Message\");\n        log:printInfo(eventInfo.toString());\n    }\n}\n```\n\n* Write a remote function to receive particular event type. Implement your logic within that function.\n\n* \"onAppMention\", \"onChannelCreated\", \"onEmojiChanged\", \"onFileShared\", \"onMemberJoinedChannel\", \"onMessage\",\n\"onReactionAdded\", \"onTeamJoin\" are the supported event types.\n\n### Register the Request URL\n1. Run your ballerina service (similar to below sample) on prefered port.\n2. Start ngok on same port using the command ``` .\/ngrok http 9090 ```\n3. In Event Subscriptions section of your Slack App settings, paste the URL issued by ngrok following with your service path (eg : ```https:\/\/365fc542d344.ngrok.io\/slack\/events```) \n4. Slack Event API will send a url_verification event containing the token and challenge key value pairs.\n5. Slack Listener will automatically verify the URL by comparing the token and send the required response back to slack \n6. Check whether your Request URL displayed as verified in your Slack.\n7. Subscribe to the events that you are planning to listen and click save changes.\n\n### Receiving events\n* After successful verification of Request URL your ballerina service will receive events. \n\n## Samples\n\n### Slack Listener Sample\n* Following sample code is written to receive triggered event data from Slack Event API.\n* Name of the remote functions written within the service must be one of the supported trigger type.\n   Example: \"onAppMention\", \"onChannelCreated\", \"onEmojiChanged\", \"onFileShared\", \"onMemberJoinedChannel\", \"onMessage\",\n   \"onReactionAdded\", \"onTeamJoin\"\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/slack.'listener as slack;\n\nslack:ListenerConfiguration configuration = {\n    port: 9090,\n    verificationToken: \"VERIFICATION_TOKEN\"\n};\n\nlistener slack:Listener slackListener = new (configuration);\n\nservice \/slack on slackListener {\n    isolated remote function onMessage(slack:MessageEvent eventInfo) returns error? {\n        log:printInfo(\"New Message\");\n        log:printInfo(eventInfo.toString());\n    }\n}\n```\n\n## Please check the [Samples directory](https:\/\/github.com\/ballerina-platform\/module-ballerinax-slack\/tree\/master\/samples) for more examples.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/slack.listener/0.9.9", "packageUrl":"/ballerinax/slack/0.9.9"}], "pullCount":0}, {"organization":"ballerinax", "name":"twilio", "version":"0.99.9", "platform":"java11", "languageSpecificationVersion":"v2020-12-17", "URL":"/ballerinax/twilio/0.99.9", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/twilio/0.99.9/ballerinax-twilio-java11-0.99.9.bala", "digest":"sha-256=48dcb19726db36c0d0fa94a8e4fc2b049509aea971ba0ec1ae90382c3fc7c46c", "summary":"", "readme":"# Twilio Connector\n\n[![Build Status](https:\/\/travis-ci.org\/ballerina-platform\/module-ballerinax-twilio.svg?branch=master)](https:\/\/travis-ci.org\/ballerina-platform\/module-ballerinax-twilio)\n[![License](https:\/\/img.shields.io\/badge\/License-Apache%202.0-blue.svg)](https:\/\/opensource.org\/licenses\/Apache-2.0)\n![GitHub release (latest by date including pre-releases)](https:\/\/img.shields.io\/github\/v\/release\/ballerina-platform\/module-ballerinax-twilio?color=green&include_prereleases&label=latest%20release)\n\nConnects the twilio communication services\n\n# Introduction\n\nTwilio’s APIs power its platform for communications. Behind these APIs is a software layer connecting and optimizing communications networks around the world to allow your users to call and message anyone, globally. Twilio has a whole host of APIs, from SMS to Voice to Wireless! You can find Twilio's API reference documentation throughout twilio product documentation. For more information, Please browse the various [Twilio APIs here](https:\/\/www.twilio.com\/docs\/api).\nAs twilio supports for [HTTP Basic authentication](https:\/\/en.wikipedia.org\/wiki\/Basic_access_authentication). It needs the URL authentication for each request using the credentials provided by the twilio. You can find both your account SID and auth token in the Twilio Console after signing up for [a free Twilio trial account](http:\/\/twilio.com\/try-twilio?_ga=2.127476109.1229618101.1613523745-690133185.1613523745). \nTwilio uses webhooks to asynchronously let your application know when events happen, like getting an incoming call or receiving an SMS message.\n\n# Connector Overview\n\nThe Twilio connector allows you to send SMS, voice and WhatsApp messages through the Twilio REST API and also connector provides the facility to receive inbound HTTP(S) requests (also known as webhooks) from Twilio's servers.\nThe Twilio connector consists with two modules\n\n* Twilio client module  - The default module that has the twilio client which can be used to communicate through the SMS, VoiceCalls and Whatsapp messages.\n\n* Webhook listener module  - The module that provides the listener supports for the twilio events such as SentSMSEvent, VoiceCallRinging etc.\n\n# Prerequisites\n\n* [Twilio Account](https:\/\/www.twilio.com\/) to obtain Account SID, Auth Token and Twilio phone number\n\n* Java 11 Installed. \nJava Development Kit (JDK) with version 11 is required.\n\n* Ballerina Swan Lake Alpha Beta 1 is required. \n\n* (optional)[ngork](https:\/\/ngrok.com\/) is requried to test listner samples using localhost\n\n# Configuration\n\n## Twilio Client Connector Configuration\n\n1. Create a twilio account and follow [this link](https:\/\/support.twilio.com\/hc\/en-us\/articles\/223136107-How-does-Twilio-s-Free-Trial-work-) to obtain a twilio phone number. If you use a trail account, you may need to verify your recipient phone numbers before having any communication with them.\n\n2. Go to this follow [this link](https:\/\/support.twilio.com\/hc\/en-us\/articles\/223136027-Auth-Tokens-and-How-to-Change-Them) to obtain twilio Account, Auth Token. \n\n3. If you want to use Whatsapp service, Please configure your twilio phone number to use whatsApp services. You can find more detail on Twilio Whatsapp service [here](https:\/\/www.twilio.com\/docs\/whatsapp\/api#manage-and-configure-your-whatsapp-enabled-twilio-numbers)\n\n4. Now you can use the obtained credential to use Twilio client connector. To do that, you may create a twilio client as shown in the samples with the following configuration record. You can also use Ballerina configurable variables to provide the credentials.\n\n```ballerina\ntwilio:TwilioConfiguration twilioConfig = {\n        accountSId: <YOUR ACCOUNT SID>,\n        authToken: <YOUR AUTH TOKEN>\n    };\n```\n## Twilio Listener Configuration\n\n1. Similar to the above steps, you need to obtain the twilio Auth token to use the twilio listener.\n\n2. You need to provide a port number where the twilio listener listens for any twilio events requests from twilio service\n\n3. You also need to provide a callback url before running the listener with the suffix \"onChange\"\nexample: <YOUR_CALL_BACK_URL>\/onChange\n\n4. To Listen to incoming SMS or Voice call events, you need to add the callback url in your twilio account as shown in the following figure.\n\n![image](..\/docs\/images\/webhook_callback.png)\n\n\n# Supported Versions & Limitations\n\n## Supported Versions\n\n|                           |    Version         |\n|:-------------------------:|:------------------:|\n| Ballerina Language        | Swan Lake Alpha5   |\n| Twilio Basic API          | 2010-04-01         |\n| Java Development Kit (JDK)| 11                 |\n\n## Limitations\n* The connector doesn't support to Authy based operation at the moment.\n* The connector only supports limited number of operations of the twilio APIs.\n\n# Quickstart(s)\n\n## Module - `ballerinax\/twilio`\n\n### Feature Overview\n\n1. Send SMS, WhatsApp messages\n2. Make voice calls\n3. Get Account Details\n\n### Getting started\n\n1.  Have a [Quick Tour](https:\/\/ballerina.io\/learn\/getting-started\/quick-tour\/) section to download and install Ballerina.  \n\n2.  To use Twilio endpoint, you need to provide the following:\n\n       - Account SId\n       - Auth Token\n\n![image](..\/twilio\/samples\/docs\/dashboardTokens.png)\n\n3. Import the Twilio module to your Ballerina program as follows. You can use [configurable variables](https:\/\/ballerina.io\/learn\/by-example\/configurable.html) to provide the necessary credentials.\n\n\t```ballerina\n\timport ballerina\/log;\n    import ballerinax\/twilio;\n\n    configurable string accountSId = ?;\n    configurable string authToken = ?;\n\n    public function main() {\n        \/\/Twilio Client configuration\n        twilio:TwilioConfiguration twilioConfig = {\n            accountSId: accountSId,\n            authToken: authToken\n        };\n\n        \/\/Twilio Client\n        twilio:Client twilioClient = new (twilioConfig);\n\n        \/\/Get account detail remote function is called by the twilio client\n        var details = twilioClient->getAccountDetails();\n\n        \/\/Response is printed as log messages\n        if (details is twilio:Account) {\n            log:printInfo(\"Account Detail: \" + details.toString());\n        } else {\n            log:printInfo(details.message());\n        }\n    }\n\t```\n\n## Module - `ballerinax\/twilio.listener`\n\n### Feature Overview\n\nThe Twilio Listener connector allows you to listen to Twilio SMS and Call status change events.\n1. Listen to incoming message events and message status change callback events from the twilio SMS\n2. Listen to incoming call events and call status change callback events from the twilio Voice Call\n\n### Note:\n\nCallback URL registration method depends on the event type.\n1. Twilio SMS\n - Incoming Messages\n    - Callback webhook URL has to be registered in the console under the particular Twilio number.\n - Status change events\n    - Callback webhook URL has to be registered at the time of sending the SMS (from the client connector)\n2. Twilio Call\n - Incoming Call\n    - Callback webhook URL has to be registered in the console under the particular Twilio number.\n - Status change events\n    - Callback webhook URL has to be registered at the time of making the call (from the client connector)\n\n### Getting started\n\n1.  Have a [Quick Tour](https:\/\/ballerina.io\/learn\/getting-started\/quick-tour\/) section to download and install Ballerina.\n\n2. Import the Twilio listener module to your Ballerina program as follows.\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onSmsDelivered(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Delivered\", event);\n    }\n}\n```\n# Samples\n## Twilio Client Operations\n\n### Get Account details\nThis shows you how to obtain the account details of your twilio account.\nSample is available at: samples\/client samples\/getAccountDetail.bal\n```ballerina\n    import ballerina\/log;\n    import ballerinax\/twilio;\n\n    configurable string accountSId = ?;\n    configurable string authToken = ?;\n\n    public function main() {\n        \/\/Twilio client configuration\n        twilio:TwilioConfiguration twilioConfig = {\n            accountSId: accountSId,\n            authToken: authToken\n        };\n\n        \/\/Twilio client\n        twilio:Client twilioClient = new (twilioConfig);\n\n        \/\/Get account detail remote function is called by the twilio client\n        var details = twilioClient->getAccountDetails();\n\n        \/\/Response is printed as log messages\n        if (details is twilio:Account) {\n            log:printInfo(\"Account Detail: \" + details.toString());\n        } else {\n            log:printInfo(details.message());\n        }\n    }\n```\n\n### Send an SMS\nThis section shows how to use the connector to send an SMS. You will need a verified phone number if you are using a trial account to send the message from your twilio phone number. if the SMS is sent successfully it will provides SMSResponse record with details of the SMS otherwise it will provide the error occurred.\nSample is available at: samples\/client samples\/sendSMS.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\n\nconfigurable string fromMobile = ?;\nconfigurable string toMobile = ?;\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\nconfigurable string message = \"Wso2-Test-SMS-Message\";\n\n\npublic function main() {\n    \/\/Twilio client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio client\n    twilio:Client twilioClient = new (twilioConfig);\n\n    \/\/Send SMS remote function is called by the twilio client\n    var details = twilioClient->sendSms(fromMobile, toMobile, message);\n\n    \/\/Response is printed as log messages\n    if (details is twilio:SmsResponse) {\n        log:printInfo(\"SMS_SID: \" + details.sid.toString() + \", Body: \" + details.body.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n```\n### Send a whatappMessage\nAs the following example, the connector supports to send whatsApp messages and if the message is successfully sent , you will get WhatsAppResponse record otherwise an error message.\nSample is available at: samples\/client samples\/sendWhatsappMessage.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\nconfigurable string fromMobile = ?;\nconfigurable string toMobile = ?;\npublic function main() {\n    \/\/Twilio Client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio Client\n    twilio:Client twilioClient = new (twilioConfig);\n\n    \/\/Send whatsapp remote function is called by the twilio client\n    var details = twilioClient->sendWhatsAppMessage(fromNo = fromMobile, toNo = toMobile, message = \"Test Whatsapp\");\n\n    \/\/Response is printed as log messages\n    if (details is twilio:WhatsAppResponse) {\n        log:printInfo(\"Message Detail: \" + details.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n```\n### Make a voice call\nYou can make voice call with twilio voice enabled phone number. The following should be provided in addition to the account access credentials.\n⋅⋅* `fromNo` - the voice-enabled Twilio phone number you added to your account earlier\n⋅⋅* `toNo` - the person you'd like to call\n⋅⋅* `twiml` - Instructions in the form [TwiML](https:\/\/www.twilio.com\/docs\/voice\/twiml) that explains what should happen when the other party picks up the phone\n⋅⋅* `statusCallback` - Optionally, instead of passing the Twiml parameter, you can provide a Url that returns TwiML Voice instructions.\nSample is available at: samples\/client samples\/makeVoiceCall.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\n\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\nconfigurable string fromMobile = ?;\nconfigurable string toMobile = ?;\nconfigurable string messageOrLink = ?;\n\npublic function main() returns error?{\n    \/\/Voice message type: twilio:MESSAGE_IN_TEXT or twilio:TWIML_URL\n    twilio:VoiceCallInput voiceInput = { \n        userInput:messageOrLink, \n        userInputType: twilio:MESSAGE_IN_TEXT\n    };\n      \n   \/\/Twilio Client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio Client\n    twilio:Client twilioClient = check new (twilioConfig);\n\n    \/\/Make voice Call remote function is called by the twilio client\n     var details = twilioClient->makeVoiceCall(fromMobile, toMobile, voiceInput);\n\n    \/\/Response is printed as log messages\n    if (details is twilio:VoiceCallResponse) {\n        log:printInfo(\"Message Detail: \" + details.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n\n```   \n\n### Get a message\nThis section shows you how to get a message details  from your account. you need to provide message sid to retreive the details from the message list of your account. If the request is successful, it will send the MessageResourceResponse record else an error message with the details.\nSample is available at: samples\/client samples\/getMessage.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\npublic function main() {\n    \/\/Twilio client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio client\n    twilio:Client twilioClient = new(twilioConfig);\n    \n    \/\/Set Message resource SID to get themessage detial\n    string messageSid = \"<Add Mesaage SID>\";\n\n    \/\/Get SMS remote function is called by thetwilio client\n    var details = twilioClient->getMessag(messageSid);\n    \n    \/\/Response is printed as log messages\n    if (details istwilio:MessageResourceResponse) {\n        log:printInfo(\"Message Detail: \" +details.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n```\n## Twilio Listener Operations\n\n### QUEUED\/SENT\/DELIVERED SMS Event\nThis examples shows how you can start a ballerina twilio listener using localhost. you will need to use ngork to expose a web server running on your local machine to the internet. Find more sample from here. [Find more samples from here](https:\/\/github.com\/ballerina-platform\/module-ballerinax-twilio\/tree\/master\/samples\/listener%20samples)\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAccountSid = ?;\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly fromNumber = ?;\nconfigurable string & readonly toNumber = ?;\nconfigurable string & readonly test_message = ?;\nconfigurable string & readonly twimlUrl = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onSmsQueued(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Queued\", event);\n    }\n    remote function onSmsSent(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Sent\", event);\n    }\n    remote function onSmsDelivered(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Delivered\", event);\n    }\n}\n\npublic function main() {\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: twilioAccountSid,\n        authToken: twilioAuthToken\n    };\n    twilio:Client twilioClient = new (twilioConfig);\n    var details = twilioClient->sendSms(fromNumber, toNumber, test_message, callbackUrl);\n    if (details is error) {\n        log:printInfo(details.message());\n    }\n}\n```\n### Ringing\/InProgress\/Completed Voice Call Events\nThis provides the listener support to the voice calls. you will need to use ngork to expose a web server running on your local machine to the internet. Find more sample from here.\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAccountSid = ?;\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly fromNumber = ?;\nconfigurable string & readonly toNumber = ?;\nconfigurable string & readonly test_message = ?;\nconfigurable string & readonly twimlUrl = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onCallRang(twilioListener:CallStatusChangeEvent event) returns error? {\n        log:printInfo(\"Ringing\", event);\n    }\n    remote function onCallAnswered(twilioListener:CallStatusChangeEvent event) returns error? {\n        log:printInfo(\"In Progress\", event);\n    }\n    remote function onCallCompleted(twilioListener:CallStatusChangeEvent event) returns error? {\n        log:printInfo(\"Completed\", event);\n    }\n}\n\npublic function main() {\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n    twilio:Client twilioClient = new (twilioConfig);\n    \n    twilio:StatusCallback callbackInfo = {\n        url: statusCallbackUrl,\n        method: twilio:POST,\n        events: [twilio:COMPLETED]\n    };\n    var details = twilioClient->makeVoiceCall(fromMobile, toMobile, twimlURL, callbackInfo);\n    if (details is error) {\n        log:printInfo(details.message());\n    }\n\n}\n```\n# Building from the source\n1. You need to obtain a twilio Account SID, an Auth Token and a valid twilio phone number to use the twilio connector operations.\n2. Clone the repository and Be sure to change the branch which has the name as the Ballerina version. Eg: slAlpha5\n    * Note: You need to install the relevant Ballerina version before going to the next step.\n3. First, If you want to run tests, you will need to add to a Config.toml file to the client module tests directory with the following credentials.\n```ballerina\n[ballerinax.twilio]\ntwilioAccountSid =\"<ACCOUNT SID>\"\ntwilioAuthToken =\"<AUTH TOKEN>\"\nfromNumber =\"<YOUR TWILIO NUMBER>\"\ntoNumber =\"RECIPIENT NUMBER\"\ntest_message =\"<SMS MESSAGE>\"\ntwimlUrl =\"<TWIML LINK>\"\nfromWhatsappNumber=\"<TWILIO WHATSAPP NUMBER>\"\n```\n4. Run `.\/gradlew build` to build the java wrapper.\n\n5. Run `bal build twilio` to build with tests or else Run `bal build --skip-tests twilio`.", "template":false, "licenses":["Apache-2.0"], "authors":["Ballerina"], "sourceCodeLocation":"https://github.com/ballerina-platform/module-ballerinax-twilio", "keywords":["twilio", "sms", "call", "otp", "whatsapp", "webhook"], "ballerinaVersion":"slalpha5", "icon":"", "createdDate":1622797964000, "modules":[{"name":"twilio", "summary":"", "readme":"# Twilio Connector\n\n[![Build Status](https:\/\/travis-ci.org\/ballerina-platform\/module-ballerinax-twilio.svg?branch=master)](https:\/\/travis-ci.org\/ballerina-platform\/module-ballerinax-twilio)\n[![License](https:\/\/img.shields.io\/badge\/License-Apache%202.0-blue.svg)](https:\/\/opensource.org\/licenses\/Apache-2.0)\n![GitHub release (latest by date including pre-releases)](https:\/\/img.shields.io\/github\/v\/release\/ballerina-platform\/module-ballerinax-twilio?color=green&include_prereleases&label=latest%20release)\n\nConnects the twilio communication services\n\n# Introduction\n\nTwilio’s APIs power its platform for communications. Behind these APIs is a software layer connecting and optimizing communications networks around the world to allow your users to call and message anyone, globally. Twilio has a whole host of APIs, from SMS to Voice to Wireless! You can find Twilio's API reference documentation throughout twilio product documentation. For more information, Please browse the various [Twilio APIs here](https:\/\/www.twilio.com\/docs\/api).\nAs twilio supports for [HTTP Basic authentication](https:\/\/en.wikipedia.org\/wiki\/Basic_access_authentication). It needs the URL authentication for each request using the credentials provided by the twilio. You can find both your account SID and auth token in the Twilio Console after signing up for [a free Twilio trial account](http:\/\/twilio.com\/try-twilio?_ga=2.127476109.1229618101.1613523745-690133185.1613523745). \nTwilio uses webhooks to asynchronously let your application know when events happen, like getting an incoming call or receiving an SMS message.\n\n# Connector Overview\n\nThe Twilio connector allows you to send SMS, voice and WhatsApp messages through the Twilio REST API and also connector provides the facility to receive inbound HTTP(S) requests (also known as webhooks) from Twilio's servers.\nThe Twilio connector consists with two modules\n\n* Twilio client module  - The default module that has the twilio client which can be used to communicate through the SMS, VoiceCalls and Whatsapp messages.\n\n* Webhook listener module  - The module that provides the listener supports for the twilio events such as SentSMSEvent, VoiceCallRinging etc.\n\n# Prerequisites\n\n* [Twilio Account](https:\/\/www.twilio.com\/) to obtain Account SID, Auth Token and Twilio phone number\n\n* Java 11 Installed. \nJava Development Kit (JDK) with version 11 is required.\n\n* Ballerina Swan Lake Alpha Beta 1 is required. \n\n* (optional)[ngork](https:\/\/ngrok.com\/) is requried to test listner samples using localhost\n\n# Configuration\n\n## Twilio Client Connector Configuration\n\n1. Create a twilio account and follow [this link](https:\/\/support.twilio.com\/hc\/en-us\/articles\/223136107-How-does-Twilio-s-Free-Trial-work-) to obtain a twilio phone number. If you use a trail account, you may need to verify your recipient phone numbers before having any communication with them.\n\n2. Go to this follow [this link](https:\/\/support.twilio.com\/hc\/en-us\/articles\/223136027-Auth-Tokens-and-How-to-Change-Them) to obtain twilio Account, Auth Token. \n\n3. If you want to use Whatsapp service, Please configure your twilio phone number to use whatsApp services. You can find more detail on Twilio Whatsapp service [here](https:\/\/www.twilio.com\/docs\/whatsapp\/api#manage-and-configure-your-whatsapp-enabled-twilio-numbers)\n\n4. Now you can use the obtained credential to use Twilio client connector. To do that, you may create a twilio client as shown in the samples with the following configuration record. You can also use Ballerina configurable variables to provide the credentials.\n\n```ballerina\ntwilio:TwilioConfiguration twilioConfig = {\n        accountSId: <YOUR ACCOUNT SID>,\n        authToken: <YOUR AUTH TOKEN>\n    };\n```\n# Supported Versions & Limitations\n\n## Supported Versions\n\n|                           |    Version         |\n|:-------------------------:|:------------------:|\n| Ballerina Language        | Swan Lake Alpha5   |\n| Twilio Basic API          | 2010-04-01         |\n| Java Development Kit (JDK)| 11                 |\n\n## Limitations\n* The connector doesn't support to Authy based operation at the moment.\n* The connector only supports limited number of operations of the twilio APIs.\n\n# Quickstart(s)\n\n## Module - `ballerinax\/twilio`\n\n### Feature Overview\n\n1. Send SMS, WhatsApp messages\n2. Make voice calls\n3. Get Account Details\n\n### Getting started\n\n1.  Have a [Quick Tour](https:\/\/ballerina.io\/learn\/getting-started\/quick-tour\/) section to download and install Ballerina.  \n\n2.  To use Twilio endpoint, you need to provide the following:\n\n       - Account SId\n       - Auth Token\n\n![image](twilio\/samples\/docs\/dashboardTokens.png)\n\n3. Import the Twilio module to your Ballerina program as follows. You can use [configurable variables](https:\/\/ballerina.io\/learn\/by-example\/configurable.html) to provide the necessary credentials.\n\n\t```ballerina\n\timport ballerina\/log;\n    import ballerinax\/twilio;\n\n    configurable string accountSId = ?;\n    configurable string authToken = ?;\n\n    public function main() {\n        \/\/Twilio Client configuration\n        twilio:TwilioConfiguration twilioConfig = {\n            accountSId: accountSId,\n            authToken: authToken\n        };\n\n        \/\/Twilio Client\n        twilio:Client twilioClient = new (twilioConfig);\n\n        \/\/Get account detail remote function is called by the twilio client\n        var details = twilioClient->getAccountDetails();\n\n        \/\/Response is printed as log messages\n        if (details is twilio:Account) {\n            log:printInfo(\"Account Detail: \" + details.toString());\n        } else {\n            log:printInfo(details.message());\n        }\n    }\n\t```\n### Getting started\n\n1.  Have a [Quick Tour](https:\/\/ballerina.io\/learn\/getting-started\/quick-tour\/) section to download and install Ballerina.\n\n2. Import the Twilio listener module to your Ballerina program as follows.\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onSmsDelivered(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Delivered\", event);\n    }\n}\n```\n# Samples\n## Twilio Client Operations\n\n### Get Account details\nThis shows you how to obtain the account details of your twilio account.\nSample is available at: samples\/client samples\/getAccountDetail.bal\n```ballerina\n    import ballerina\/log;\n    import ballerinax\/twilio;\n\n    configurable string accountSId = ?;\n    configurable string authToken = ?;\n\n    public function main() {\n        \/\/Twilio client configuration\n        twilio:TwilioConfiguration twilioConfig = {\n            accountSId: accountSId,\n            authToken: authToken\n        };\n\n        \/\/Twilio client\n        twilio:Client twilioClient = new (twilioConfig);\n\n        \/\/Get account detail remote function is called by the twilio client\n        var details = twilioClient->getAccountDetails();\n\n        \/\/Response is printed as log messages\n        if (details is twilio:Account) {\n            log:printInfo(\"Account Detail: \" + details.toString());\n        } else {\n            log:printInfo(details.message());\n        }\n    }\n```\n\n### Send an SMS\nThis section shows how to use the connector to send an SMS. You will need a verified phone number if you are using a trial account to send the message from your twilio phone number. if the SMS is sent successfully it will provides SMSResponse record with details of the SMS otherwise it will provide the error occurred.\nSample is available at: samples\/client samples\/sendSMS.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\n\nconfigurable string fromMobile = ?;\nconfigurable string toMobile = ?;\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\nconfigurable string message = \"Wso2-Test-SMS-Message\";\n\n\npublic function main() {\n    \/\/Twilio client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio client\n    twilio:Client twilioClient = new (twilioConfig);\n\n    \/\/Send SMS remote function is called by the twilio client\n    var details = twilioClient->sendSms(fromMobile, toMobile, message);\n\n    \/\/Response is printed as log messages\n    if (details is twilio:SmsResponse) {\n        log:printInfo(\"SMS_SID: \" + details.sid.toString() + \", Body: \" + details.body.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n```\n### Send a whatappMessage\nAs the following example, the connector supports to send whatsApp messages and if the message is successfully sent , you will get WhatsAppResponse record otherwise an error message.\nSample is available at: samples\/client samples\/sendWhatsappMessage.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\nconfigurable string fromMobile = ?;\nconfigurable string toMobile = ?;\npublic function main() {\n    \/\/Twilio Client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio Client\n    twilio:Client twilioClient = new (twilioConfig);\n\n    \/\/Send whatsapp remote function is called by the twilio client\n    var details = twilioClient->sendWhatsAppMessage(fromNo = fromMobile, toNo = toMobile, message = \"Test Whatsapp\");\n\n    \/\/Response is printed as log messages\n    if (details is twilio:WhatsAppResponse) {\n        log:printInfo(\"Message Detail: \" + details.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n```\n### Make a voice call\nYou can make voice call with twilio voice enabled phone number. The following should be provided in addition to the account access credentials.\n⋅⋅* `fromNo` - the voice-enabled Twilio phone number you added to your account earlier\n⋅⋅* `toNo` - the person you'd like to call\n⋅⋅* `twiml` - Instructions in the form [TwiML](https:\/\/www.twilio.com\/docs\/voice\/twiml) that explains what should happen when the other party picks up the phone\n⋅⋅* `statusCallback` - Optionally, instead of passing the Twiml parameter, you can provide a Url that returns TwiML Voice instructions.\nSample is available at: samples\/client samples\/makeVoiceCall.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\n\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\nconfigurable string fromMobile = ?;\nconfigurable string toMobile = ?;\nconfigurable string messageOrLink = ?;\n\npublic function main() returns error?{\n    \/\/Voice message type: twilio:MESSAGE_IN_TEXT or twilio:TWIML_URL\n    twilio:VoiceCallInput voiceInput = { \n        userInput:messageOrLink, \n        userInputType: twilio:MESSAGE_IN_TEXT\n    };\n      \n   \/\/Twilio Client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio Client\n    twilio:Client twilioClient = check new (twilioConfig);\n\n    \/\/Make voice Call remote function is called by the twilio client\n     var details = twilioClient->makeVoiceCall(fromMobile, toMobile, voiceInput);\n\n    \/\/Response is printed as log messages\n    if (details is twilio:VoiceCallResponse) {\n        log:printInfo(\"Message Detail: \" + details.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n\n```   \n\n### Get a message\nThis section shows you how to get a message details  from your account. you need to provide message sid to retreive the details from the message list of your account. If the request is successful, it will send the MessageResourceResponse record else an error message with the details.\nSample is available at: samples\/client samples\/getMessage.bal\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nconfigurable string accountSId = ?;\nconfigurable string authToken = ?;\npublic function main() {\n    \/\/Twilio client configuration\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n\n    \/\/Twilio client\n    twilio:Client twilioClient = new(twilioConfig);\n    \n    \/\/Set Message resource SID to get themessage detial\n    string messageSid = \"<Add Mesaage SID>\";\n\n    \/\/Get SMS remote function is called by thetwilio client\n    var details = twilioClient->getMessag(messageSid);\n    \n    \/\/Response is printed as log messages\n    if (details istwilio:MessageResourceResponse) {\n        log:printInfo(\"Message Detail: \" +details.toString());\n    } else {\n        log:printInfo(details.message());\n    }\n}\n```\n# Building from the source\n1. You need to obtain a twilio Account SID, an Auth Token and a valid twilio phone number to use the twilio connector operations.\n2. Clone the repository and Be sure to change the branch which has the name as the Ballerina version. Eg: slAlpha5\n    * Note: You need to install the relevant Ballerina version before going to the next step.\n3. First, If you want to run tests, you will need to add to a Config.toml file to the client module tests directory with the following credentials.\n```ballerina\n[ballerinax.twilio]\ntwilioAccountSid =\"<ACCOUNT SID>\"\ntwilioAuthToken =\"<AUTH TOKEN>\"\nfromNumber =\"<YOUR TWILIO NUMBER>\"\ntoNumber =\"RECIPIENT NUMBER\"\ntest_message =\"<SMS MESSAGE>\"\ntwimlUrl =\"<TWIML LINK>\"\nfromWhatsappNumber=\"<TWILIO WHATSAPP NUMBER>\"\n```\n4. Run `.\/gradlew build` to build the java wrapper.\n\n5. Run `bal build twilio` to build with tests or else Run `bal build --skip-tests twilio`.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/twilio/0.99.9", "packageUrl":"/ballerinax/twilio/0.99.9"}, {"name":"twilio.listener", "summary":"", "readme":"# Twilio Connector\n\n[![Build Status](https:\/\/travis-ci.org\/ballerina-platform\/module-ballerinax-twilio.svg?branch=master)](https:\/\/travis-ci.org\/ballerina-platform\/module-ballerinax-twilio)\n[![License](https:\/\/img.shields.io\/badge\/License-Apache%202.0-blue.svg)](https:\/\/opensource.org\/licenses\/Apache-2.0)\n![GitHub release (latest by date including pre-releases)](https:\/\/img.shields.io\/github\/v\/release\/ballerina-platform\/module-ballerinax-twilio?color=green&include_prereleases&label=latest%20release)\n\nConnects the twilio communication services\n\n# Introduction\n\nTwilio’s APIs power its platform for communications. Behind these APIs is a software layer connecting and optimizing communications networks around the world to allow your users to call and message anyone, globally. Twilio has a whole host of APIs, from SMS to Voice to Wireless! You can find Twilio's API reference documentation throughout twilio product documentation. For more information, Please browse the various [Twilio APIs here](https:\/\/www.twilio.com\/docs\/api).\nAs twilio supports for [HTTP Basic authentication](https:\/\/en.wikipedia.org\/wiki\/Basic_access_authentication). It needs the URL authentication for each request using the credentials provided by the twilio. You can find both your account SID and auth token in the Twilio Console after signing up for [a free Twilio trial account](http:\/\/twilio.com\/try-twilio?_ga=2.127476109.1229618101.1613523745-690133185.1613523745). \nTwilio uses webhooks to asynchronously let your application know when events happen, like getting an incoming call or receiving an SMS message.\n\n# Connector Overview\n\nThe Twilio connector allows you to send SMS, voice and WhatsApp messages through the Twilio REST API and also connector provides the facility to receive inbound HTTP(S) requests (also known as webhooks) from Twilio's servers.\nThe Twilio connector consists with two modules\n\n* Twilio client module  - The default module that has the twilio client which can be used to communicate through the SMS, VoiceCalls and Whatsapp messages.\n\n* Webhook listener module  - The module that provides the listener supports for the twilio events such as SentSMSEvent, VoiceCallRinging etc.\n\n# Prerequisites\n\n* [Twilio Account](https:\/\/www.twilio.com\/) to obtain Account SID, Auth Token and Twilio phone number\n\n* Java 11 Installed. \nJava Development Kit (JDK) with version 11 is required.\n\n* Ballerina Swan Lake Alpha Beta 1 is required. \n\n* (optional)[ngork](https:\/\/ngrok.com\/) is requried to test listner samples using localhost\n\n# Configuration\n\n## Twilio Client Connector Configuration\n\n1. Create a twilio account and follow [this link](https:\/\/support.twilio.com\/hc\/en-us\/articles\/223136107-How-does-Twilio-s-Free-Trial-work-) to obtain a twilio phone number. If you use a trail account, you may need to verify your recipient phone numbers before having any communication with them.\n\n2. Go to this follow [this link](https:\/\/support.twilio.com\/hc\/en-us\/articles\/223136027-Auth-Tokens-and-How-to-Change-Them) to obtain twilio Account, Auth Token. \n\n3. If you want to use Whatsapp service, Please configure your twilio phone number to use whatsApp services. You can find more detail on Twilio Whatsapp service [here](https:\/\/www.twilio.com\/docs\/whatsapp\/api#manage-and-configure-your-whatsapp-enabled-twilio-numbers)\n\n4. Now you can use the obtained credential to use Twilio client connector. To do that, you may create a twilio client as shown in the samples with the following configuration record. You can also use Ballerina configurable variables to provide the credentials.\n\n```ballerina\ntwilio:TwilioConfiguration twilioConfig = {\n        accountSId: <YOUR ACCOUNT SID>,\n        authToken: <YOUR AUTH TOKEN>\n    };\n```\n## Twilio Listener Configuration\n\n1. Similar to the above steps, you need to obtain the twilio Auth token to use the twilio listener.\n\n2. You need to provide a port number where the twilio listener listens for any twilio events requests from twilio service\n\n3. You also need to provide a callback url before running the listener with the suffix \"onChange\"\nexample: <YOUR_CALL_BACK_URL>\/onChange\n\n4. To Listen to incoming SMS or Voice call events, you need to add the callback url in your twilio account as shown in the following figure.\n\n![image](docs\/images\/webhook_callback.png)\n\n\n# Supported Versions & Limitations\n\n## Supported Versions\n\n|                           |    Version         |\n|:-------------------------:|:------------------:|\n| Ballerina Language        | Swan Lake Alpha5   |\n| Twilio Basic API          | 2010-04-01         |\n| Java Development Kit (JDK)| 11                 |\n\n## Limitations\n* The connector doesn't support to Authy based operation at the moment.\n* The connector only supports limited number of operations of the twilio APIs.\n\n# Quickstart(s)\n\n## Module - `ballerinax\/twilio`\n\n### Feature Overview\n\n1. Send SMS, WhatsApp messages\n2. Make voice calls\n3. Get Account Details\n\n### Getting started\n\n1.  Have a [Quick Tour](https:\/\/ballerina.io\/learn\/getting-started\/quick-tour\/) section to download and install Ballerina.  \n\n2.  To use Twilio endpoint, you need to provide the following:\n\n       - Account SId\n       - Auth Token\n\n![image](twilio\/samples\/docs\/dashboardTokens.png)\n\n3. Import the Twilio module to your Ballerina program as follows. You can use [configurable variables](https:\/\/ballerina.io\/learn\/by-example\/configurable.html) to provide the necessary credentials.\n\n\t```ballerina\n\timport ballerina\/log;\n    import ballerinax\/twilio;\n\n    configurable string accountSId = ?;\n    configurable string authToken = ?;\n\n    public function main() {\n        \/\/Twilio Client configuration\n        twilio:TwilioConfiguration twilioConfig = {\n            accountSId: accountSId,\n            authToken: authToken\n        };\n\n        \/\/Twilio Client\n        twilio:Client twilioClient = new (twilioConfig);\n\n        \/\/Get account detail remote function is called by the twilio client\n        var details = twilioClient->getAccountDetails();\n\n        \/\/Response is printed as log messages\n        if (details is twilio:Account) {\n            log:printInfo(\"Account Detail: \" + details.toString());\n        } else {\n            log:printInfo(details.message());\n        }\n    }\n\t```\n\n## Module - `ballerinax\/twilio.listener`\n\n### Feature Overview\n\nThe Twilio Listener connector allows you to listen to Twilio SMS and Call status change events.\n1. Listen to incoming message events and message status change callback events from the twilio SMS\n2. Listen to incoming call events and call status change callback events from the twilio Voice Call\n\n### Note:\n\nCallback URL registration method depends on the event type.\n1. Twilio SMS\n - Incoming Messages\n    - Callback webhook URL has to be registered in the console under the particular Twilio number.\n - Status change events\n    - Callback webhook URL has to be registered at the time of sending the SMS (from the client connector)\n2. Twilio Call\n - Incoming Call\n    - Callback webhook URL has to be registered in the console under the particular Twilio number.\n - Status change events\n    - Callback webhook URL has to be registered at the time of making the call (from the client connector)\n\n### Getting started\n\n1.  Have a [Quick Tour](https:\/\/ballerina.io\/learn\/getting-started\/quick-tour\/) section to download and install Ballerina.\n\n2. Import the Twilio listener module to your Ballerina program as follows.\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onSmsDelivered(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Delivered\", event);\n    }\n}\n```\n# Samples\n## Twilio Listener Operations\n\n### QUEUED\/SENT\/DELIVERED SMS Event\nThis examples shows how you can start a ballerina twilio listener using localhost. you will need to use ngork to expose a web server running on your local machine to the internet. Find more sample from here. [Find more samples from here](https:\/\/github.com\/ballerina-platform\/module-ballerinax-twilio\/tree\/master\/samples\/listener%20samples)\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAccountSid = ?;\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly fromNumber = ?;\nconfigurable string & readonly toNumber = ?;\nconfigurable string & readonly test_message = ?;\nconfigurable string & readonly twimlUrl = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onSmsQueued(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Queued\", event);\n    }\n    remote function onSmsSent(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Sent\", event);\n    }\n    remote function onSmsDelivered(twilioListener:SmsStatusChangeEvent event) returns error? {\n        log:printInfo(\"Delivered\", event);\n    }\n}\n\npublic function main() {\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: twilioAccountSid,\n        authToken: twilioAuthToken\n    };\n    twilio:Client twilioClient = new (twilioConfig);\n    var details = twilioClient->sendSms(fromNumber, toNumber, test_message, callbackUrl);\n    if (details is error) {\n        log:printInfo(details.message());\n    }\n}\n```\n### Ringing\/InProgress\/Completed Voice Call Events\nThis provides the listener support to the voice calls. you will need to use ngork to expose a web server running on your local machine to the internet. Find more sample from here.\n\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/twilio;\nimport ballerinax\/twilio.'listener as twilioListener;\n\nconfigurable string & readonly twilioAccountSid = ?;\nconfigurable string & readonly twilioAuthToken = ?;\nconfigurable string & readonly fromNumber = ?;\nconfigurable string & readonly toNumber = ?;\nconfigurable string & readonly test_message = ?;\nconfigurable string & readonly twimlUrl = ?;\nconfigurable string & readonly callbackUrl = ?;\nconfigurable int & readonly port = ?;\n\nlistener twilioListener:Listener tListener = new (port, twilioAuthToken, callbackUrl);\n\nservice \/ on tListener {\n    remote function onCallRang(twilioListener:CallStatusChangeEvent event) returns error? {\n        log:printInfo(\"Ringing\", event);\n    }\n    remote function onCallAnswered(twilioListener:CallStatusChangeEvent event) returns error? {\n        log:printInfo(\"In Progress\", event);\n    }\n    remote function onCallCompleted(twilioListener:CallStatusChangeEvent event) returns error? {\n        log:printInfo(\"Completed\", event);\n    }\n}\n\npublic function main() {\n    twilio:TwilioConfiguration twilioConfig = {\n        accountSId: accountSId,\n        authToken: authToken\n    };\n    twilio:Client twilioClient = new (twilioConfig);\n    \n    twilio:StatusCallback callbackInfo = {\n        url: statusCallbackUrl,\n        method: twilio:POST,\n        events: [twilio:COMPLETED]\n    };\n    var details = twilioClient->makeVoiceCall(fromMobile, toMobile, twimlURL, callbackInfo);\n    if (details is error) {\n        log:printInfo(details.message());\n    }\n\n}\n```\n# Building from the source\n1. You need to obtain a twilio Account SID, an Auth Token and a valid twilio phone number to use the twilio connector operations.\n2. Clone the repository and Be sure to change the branch which has the name as the Ballerina version. Eg: slAlpha5\n    * Note: You need to install the relevant Ballerina version before going to the next step.\n3. First, If you want to run tests, you will need to add to a Config.toml file to the client module tests directory with the following credentials.\n```ballerina\n[ballerinax.twilio]\ntwilioAccountSid =\"<ACCOUNT SID>\"\ntwilioAuthToken =\"<AUTH TOKEN>\"\nfromNumber =\"<YOUR TWILIO NUMBER>\"\ntoNumber =\"RECIPIENT NUMBER\"\ntest_message =\"<SMS MESSAGE>\"\ntwimlUrl =\"<TWIML LINK>\"\nfromWhatsappNumber=\"<TWILIO WHATSAPP NUMBER>\"\n```\n4. Run `.\/gradlew build` to build the java wrapper.\n\n5. Run `bal build twilio` to build with tests or else Run `bal build --skip-tests twilio`.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/twilio.listener/0.99.9", "packageUrl":"/ballerinax/twilio/0.99.9"}], "pullCount":0}, {"organization":"ballerinax", "name":"jaeger", "version":"0.2.3", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/jaeger/0.2.3", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/jaeger/0.2.3/ballerinax-jaeger-java11-0.2.3.bala", "digest":"sha-256=06542eeebba0b7e87d6c9ddaf5a49d890ec3c4d52a6cd01c52d27a487b3109b3", "summary":"", "readme":"## Package Overview\n\nThe Jaeger Observability Extension is one of the tracing extensions of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language.\n\nIt provides an implementation for tracing and publishing traces to a Jaeger Agent.\n\n## Enabling Jaeger Extension\n\nTo package the Jaeger extension into the Jar, follow the following steps.\n1. Add the following import to your program.\n```ballerina\nimport ballerinax\/jaeger as _;\n```\n\n2. Add the following to the `Ballerina.toml` when building your program.\n```toml\n[package]\norg = \"my_org\"\nname = \"my_package\"\nversion = \"1.0.0\"\n\n[build-options]\nobservabilityIncluded=true\n```\n\nTo enable the extension and publish traces to Jaeger, add the following to the `Config.toml` when running your program.\n```toml\n[ballerina.observe]\ntracingEnabled=true\ntracingProvider=\"jaeger\"\n\n[ballerinax.jaeger]\nagentHostname=\"127.0.0.1\"  # Optional Configuration. Default value is localhost\nagentPort=55680             # Optional Configuration. Default value is 55680\n```", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622737487000, "modules":[{"name":"jaeger", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/jaeger/0.2.3", "packageUrl":"/ballerinax/jaeger/0.2.3"}], "pullCount":3}, {"organization":"ballerinax", "name":"choreo", "version":"0.2.7", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/choreo/0.2.7", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/choreo/0.2.7/ballerinax-choreo-java11-0.2.7.bala", "digest":"sha-256=e8bf2467d7198ca7c4aa004cef437041ac0cebe7d8d9f527f65c80e00c94b9d0", "summary":"", "readme":"## Package Overview\n\nThe Choreo Observability Extension is one of the observability extensions of the [Ballerina](https:\/\/ballerina.io\/) language.\n\nIt provides an implementation for publishing traces & metrics to Choreo.\n\n## Enabling Choreo Extension\n\nTo package the Choreo extension into the Jar, follow the following steps.\n1. Add the following import to your program.\n```ballerina\nimport ballerinax\/choreo as _;\n```\n\n2. Add the following to the `Ballerina.toml` when building your program.\n```toml\n[package]\norg = \"my_org\"\nname = \"my_package\"\nversion = \"1.0.0\"\n\n[build-options]\nobservabilityIncluded=true\n```\n\nTo enable the extension and connect to Choreo, add the following to the `Config.toml` when running your program.\n```toml\n[ballerina.observe]\nenabled=true\nprovider=\"choreo\"\n```", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622737198000, "modules":[{"name":"choreo", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/choreo/0.2.7", "packageUrl":"/ballerinax/choreo/0.2.7"}], "pullCount":2}, {"organization":"ballerinax", "name":"prometheus", "version":"0.1.8", "platform":"any", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/prometheus/0.1.8", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/prometheus/0.1.8/ballerinax-prometheus-any-0.1.8.bala", "digest":"sha-256=195c763d60161af0e641c865477dc93aa54d8d48a2f8aafaab677fc95c5644ab", "summary":"", "readme":"## Package Overview\n\nThe Prometheus Observability Extension is one of the metrics extensions of the <a target=\"_blank\" href=\"https:\/\/ballerina.io\/\">Ballerina<\/a> language.\n\nIt provides an implementation for exporting metrics to a Prometheus Server.\n\n### Enabling Prometheus Extension\n\nTo package the Prometheus extension into the Jar, follow the following steps.\n1. Add the following import to your program.\n```ballerina\nimport ballerinax\/prometheus as _;\n```\n\n2. Add the following to the `Ballerina.toml` when building your program.\n```toml\n[package]\norg = \"my_org\"\nname = \"my_package\"\nversion = \"1.0.0\"\n\n[build-options]\nobservabilityIncluded=true\n```\n\nTo enable the extension and export metrics to Prometheus, add the following to the `Config.toml` when running your program.\n```toml\n[ballerina.observe]\nmetricsEnabled=true\nmetricsReporter=\"prometheus\"\n\n[ballerinax.prometheus]\nhost=\"127.0.0.1\"  # Optional Configuration. Default value is localhost\nport=9797         # Optional Configuration. Default value is 9797\n```", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622737081000, "modules":[{"name":"prometheus", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/prometheus/0.1.8", "packageUrl":"/ballerinax/prometheus/0.1.8"}], "pullCount":4}, {"organization":"ballerina", "name":"websub", "version":"1.2.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/websub/1.2.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/websub/1.2.0-beta.1/ballerina-websub-java11-1.2.0-beta.1.bala", "digest":"sha-256=82e9ca870f793b0ec18cd62eed5b460f0bbebcd77ebd6473cef500f82df8b5de", "summary":"", "readme":"## Package Overview\n\nThe `websub` package is one of the standard library packages of the <a target=\"_blank\" href=\"https:\/\/ballerina.io\/\">Ballerina<\/a> language.\n\nThis package provides the capability to easily implement a WebSub compliant **Subscriber Service**.\n\n## Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n## Useful Links\n\n* Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n* Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n* Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622726160000, "modules":[{"name":"websub", "summary":"", "readme":"## Overview\n\nThis module provides APIs for WebSub Subscriber Service.\n\n[**WebSub**](https:\/\/www.w3.org\/TR\/websub\/) is a common mechanism for communication between publishers of any kind of Web content and their subscribers, based on HTTP webhooks. Subscription requests are relayed through hubs, which validate and verify the request. Hubs then distribute new and updated content to subscribers when it becomes available. WebSub was previously known as PubSubHubbub.\n\n[**WebSub Subscriber**](https:\/\/www.w3.org\/TR\/websub\/#subscriber) is an implementation that discovers the `hub` and `topic URL` of a given `resource URL`, subscribes to updates at the hub, and accepts content distribution requests from the `hub`.\n\n### Basic flow with WebSub\n\n1. The subscriber discovers (from the publisher) the topic it needs to subscribe to and the hub(s) that deliver notifications on the updates of the topic.\n\n2. The subscriber sends a subscription request to one or more discovered hub(s) specifying the discovered topic along \n with the other subscription parameters such as:\n    - The callback URL to which the content is expected to be delivered.\n    - (Optional) The lease period (in seconds) the subscriber wants the subscription to stay active.\n    - (Optional) A secret to use for the [authenticated content distribution](https:\/\/www.w3.org\/TR\/websub\/#signing-content).\n  \n3. The hub sends an intent verification request to the specified callback URL. If the response indicates \nthe verification\n (by echoing a challenge specified in the request) by the subscriber, the subscription is added for the topic at the \n hub.\n   \n4. The publisher notifies the hub of the updates to the topic and the content to deliver is identified.\n\n5. The hub delivers the identified content to the subscribers of the topic.\n\n#### Subscribing\n\n* The WebSub Subscriber provides the mechanism to subscribe in a `hub` to a given `topic URL`. \n```ballerina\n@websub:SubscriberServiceConfig {\n    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"], \n    leaseSeconds: 36000\n} \nservice \/subscriber on new websub:Listener(9090) {\n    remote function onSubscriptionValidationDenied(websub:SubscriptionDeniedError msg) returns websub:Acknowledgement? {\n        \/\/ implement subscription validation denied logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    remote function onSubscriptionVerification(websub:SubscriptionVerification msg)\n                        returns websub:SubscriptionVerificationSuccess|websub:SubscriptionVerificationError {\n        \/\/ implement subscription intent verification logic here\n        return websub:SUBSCRIPTION_VERIFICATION_SUCCESS;\n    }\n\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n}\n```\n\n#### Resource Discovery\n\n* The WebSub Subscriber also provides the mechanism to discover the `hub` and `topic URL` resources dynamically via the provided `resource URL` and initiates the subscription.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000\n} \nservice \/subscriber on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n```\n\n#### Dynamic URI Generation\n\n* The service path for a WebSub Subscriber is optional. The WebSub Subscriber service has the capability to generate the service path dynamically.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000\n} \nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n```\n\n#### Running Subscriber Service Locally\n\n* [**nGrok**](https:\/\/ngrok.com\/) is a TCP Tunneling software, which is used to expose services running locally in the public network.\n* If you want to run the subscriber service in your local machine, you could use **nGrok** to expose it to the public network.\n* First, [download and install](https:\/\/ngrok.com\/download) **nGrok**.\n* Run the following command to expose the local port `9090` to the public network via `HTTPS`. For information, see the [ngrok documentation](https:\/\/ngrok.com\/docs#http-bind-tls)).\n```bash\nngrok http -bind-tls=true 9090\n```\n* Extract the public URL provided by **nGrok** and provide it as the callback URL for the subscriber service.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000,\n    callback: \"<NGROK_PUBLIC_URL>\",\n    appendServiceUrl: true\n} \nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError? {\n        \/\/ implement on event notification logic here\n        return websub:ACKNOWLEDGEMENT;\n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n```\n\n# Returning Errors from Remote Methods\n\n* Remote functions in `websub:SubscriberService` can return `error` type.\n```ballerina\n@websub:SubscriberServiceConfig {\n    target: \"RESOURCE_URL\", \n    leaseSeconds: 36000,\n    callback: \"<NGROK_PUBLIC_URL>\",\n    appendServiceUrl: true\n} \nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) \n                        returns websub:Acknowledgement|websub:SubscriptionDeletedError|error? {\n        boolean isValidRequest = check validateRequest(event);\n        if isValidRequest {\n            \/\/ implement on event notification logic here\n            return websub:ACKNOWLEDGEMENT;\n        }\n    \n    }\n\n    \/\/ other remote methods are optional to be implemented\n}\n\nfunction validateRequest(websub:ContentDistributionMessage event) returns boolean|error {\n    \/\/ validation logic \n}\n```\n\n* For each remote method `error` return has a different meaning. Following table depicts the meaning inferred from `error` returned from all available remote methods.\n\n| Method        | Interpreted meaning for Error Return |\n| ----------- | ---------------- |\n| onSubscriptionValidationDenied | Successfull acknowledgement|\n| onSubscriptionVerification | Subscription verification failure|\n| onEventNotification | Successfull acknowledgement|", "apiDocURL":"https://docs.central.ballerina.io/ballerina/websub/1.2.0-beta.1", "packageUrl":"/ballerina/websub/1.2.0-beta.1"}], "pullCount":1}, {"organization":"ballerina", "name":"openapi", "version":"0.9.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/openapi/0.9.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/openapi/0.9.0-beta.1/ballerina-openapi-java11-0.9.0-beta.1.bala", "digest":"sha-256=831a59e0e36fac500564a35f7db98876e5982b51fde62df7bd76970b00197949", "summary":"", "readme":"## Package Overview\n\nThe `openapi` package is one of the command-line tools of the [Ballerina](https:\/\/ballerina.io\/) language.\n\nThis package provides support for the Ballerina OpenAPI tooling. The OpenAPI commands will make it easy to \nstart the development of a service documented in an OpenAPI contract in Ballerina by generating the Ballerina service \nand client skeletons and exporting the OpenAPI definition of a Ballerina service. The OpenAPI compiler plugin will \nallow you to validate a service implementation against an OpenAPI contract during the compile time. This plugin  \nensures that the implementation of a service does not deviate from its OpenAPI contract.\n\n### Report Issues\nTo report bugs, request new features, start new discussions, etc., go to the [open issues](https:\/\/github.com\/ballerina-platform\/ballerina-openapi\/issues)\n\n### Useful Links\n\n* Discuss about code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n* Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n* Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.\n* View the [Ballerina performance test results](performance\/benchmarks\/summary.md).", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622707532000, "modules":[{"name":"openapi", "summary":"", "readme":"## Module Overview\n\nThis module provides the Ballerina OpenAPI tooling, which will make it easy to start the development of a service documented in an OpenAPI contract in Ballerina by generating the Ballerina service and client skeletons.\n\nThe OpenAPI tools provide the following capabilities. \n\n 1. Generate the Ballerina service or client code for a given OpenAPI definition. \n 2. Export the OpenAPI definition of a Ballerina service.\n 3. Validate the service implementation of a given OpenAPI contract.\n    \nThe `openapi` command in Ballerina is used for OpenAPI to Ballerina and Ballerina to OpenAPI code generations. \nCode generation from OpenAPI to Ballerina can produce `ballerina service stubs` and `ballerina client stubs`.\nThe OpenAPI compiler plugin will allow you to validate a service implementation against an OpenAPI contract during\n the compile time.\nThis plugin ensures that the implementation of a service does not deviate from its OpenAPI contract.   \n\n### OpenAPI to Ballerina\n#### Generate Service and Client Stub from an OpenAPI Contract\n\n```bash\nbal openapi -i <openapi-contract-path> \n               [--tags: tags list]\n               [--operations: operationsID list]\n               [--mode service|client ]\n               [(-o|--output): output file path]\n```\nGenerates both the Ballerina service and Ballerina client stubs for a given OpenAPI file.\n\nThis `-i <openapi-contract-path>` parameter of the command is mandatory. It will get the path to the\n OpenAPI contract file (i.e., `my-api.yaml` or `my-api.json`) as an input.\n\nYou can give the specific tags and operations that you need to document as services without documenting all the operations using these optional `--tags` and `--operations` commands.\n\nThe `(-o|--output)` is an optional parameter. You can use this to give the output path of the generated files.\nIf not, it will take the execution path as the output path.\n\n##### Modes\nIf you want to generate a service only, you can set the mode as `service` in the OpenAPI tool.\n\n```bash\n    bal openapi -i <openapi-contract-path> --mode service [(-o|--output) output file path]\n```\n\nIf you want to generate a client only, you can set the mode as  `client` in the OpenAPI tool. \nThis client can be used in client applications to call the service defined in the OpenAPI file.\n\n```bash\n    bal openapi -i <openapi-contract-path> --mode client [(-o|--output) output file path]\n```\n\n### Ballerina to OpenAPI\n#### Service to OpenAPI Export\n```bash\n    bal openapi -i <ballerina-file-path> \n               [(-o|--output) output openapi file path]\n```\nExport the Ballerina service to an  OpenAPI Specification 3.0 definition. For the export to work properly, \nthe input Ballerina service should be defined using the basic service and resource-level HTTP annotations.\nIf you need to document an OpenAPI contract for only one given service, then use this command.\n```bash\n    bal openapi -i <ballerina-file-path> (-s | --service) <service-name>\n```\n\n### Samples for OpenAPI Commands\n#### Generate Service and Client Stub from OpenAPI\n```bash\n    bal openapi -i hello.yaml\n```\n\nThis will generate a Ballerina service and client stub for the `hello.yaml` OpenAPI contract named `hello-service\n` and client named `hello-client`. The above command can be run from within anywhere on the execution path. \nIt is not mandatory to run it from inside the Ballerina project.\n\nOutput:\n```bash\nThe service generation process is complete. The following files were created.\n-- hello-service.bal\n-- client.bal\n-- types.bal\n```\n#### Generate an OpenAPI Contract from a Service\n\n ```bash\n    bal openapi -i modules\/helloworld\/helloService.bal\n  ```\nThis will generate the OpenAPI contracts for the Ballerina services, which are in the `hello.bal` Ballerina file.\n ```bash \n    bal openapi -i modules\/helloworld\/helloService.bal (-s | --service) helloworld\n  ```\nThis command will generate the `helloworld-openapi.yaml` file that is related to the `helloworld` service inside the\n `helloService.bal` file.\n ```bash\n    bal openapi -i modules\/helloworld\/helloService.bal --json\n  ```\nThis `--json` option can be used with the Ballerina to OpenAPI command to generate the `helloworld-openapi.json` file \ninstead of generating the YAML file.\n\n## OpenAPI Validator Compiler Plugin\n\nThe OpenAPI Validator Compiler plugin validates a service against a given OpenAPI contract. \nThe Compiler Plugin is activated if a service has the `openapi:ServiceInfo` annotation. This plugin compares \nthe service and the OpenAPI Contract and validates both against a pre-defined set of validation rules. \nIf any of the rules fail, the plugin will give the result as one or more compilation errors.\n\n### Annotation for Validator Plugin \nThe `@openapi:ServiceInfo` annotation is used to bind the service with an OpenAPI contract. You need to add \nthis annotation to the service file with the required values for enabling the validations.  \nThe following is an example of the annotation usage.\n```ballerina\n@openapi:ServiceInfo{\n    contract: “\/path\/to\/openapi.json|yaml”,\n    [ tag : “store” ],\n    [ operations: [“op1”, “op2”] ] \n    [ failOnErrors]: true\/false → default : true\n    [ excludeTags ]: [“pets”, “user”]\n    [ excludeOperations: [“op1”, “op2”] ]\n   }\nservice greet on new http:Listener(9090) {\n    ...\n}\n```\n#### Annotation Support for the Following Attributes:\n- **Contract** (Required) : **string**  :\nHere, you can provide a path to the OpenAPI contract as a string and the OpenAPI file can either be `.yaml` or `.json`\nThis is a required attribute.\n\n- **Tag** (Optional) : **string[]?**     :\nThe compiler will only validate resources against operations, which are tagged with a tag specified in the list.\nIf not specified, the compiler will validate resources against all the operations defined in the OpenAPI contract. \n\n- **Operations** (Optional): **string[]?**  :\nShould contain a list of operation names that need to be validated against the resources in the service.\nIf not specified, the compiler will validate resources against all the operations defined in the OpenAPI contract. If both tags and operations are defined, it will validate against the union set of the resources.\n\n- **ExcludeTags** (Optional) : **string[]?**    :\nThis feature is for users to store the tag. It does not need to be validated.\nAt the same time, the `excludeTag` and `Tag` cannot store and the plugin will generate warning messages regarding\n it.\n\n- **ExcludeOperations** (Optional) : **string[]?**  :\nThis feature is for users to store the operations that do not need to be validated.\nAt the same time, the `excludeOperations` and  `Operations` can not store and they will generate warning messages.\nThe `Tag` feature can store with `excludeOperations`. Then, all the tag operations will be validated except the `exclude`\n operations.\n \n- **FailOnErrors** (Optional) : **boolean value**   :\nIf you need to turn off the validation, add this to the annotation with the value as `false`.", "apiDocURL":"https://docs.central.ballerina.io/ballerina/openapi/0.9.0-beta.1", "packageUrl":"/ballerina/openapi/0.9.0-beta.1"}], "pullCount":439}, {"organization":"bc2testorg", "name":"bctestfxtuho8x4t", "version":"13.5.7", "platform":"any", "languageSpecificationVersion":"v2020-12-17", "URL":"/bc2testorg/bctestfxtuho8x4t/13.5.7", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/bc2testorg/bctestfxtuho8x4t/13.5.7/bc2testorg-bctestfxtuho8x4t-any-13.5.7.bala", "digest":"sha-256=8afdd55253f733e7214f82e877090ec84be4f7df4fcab11f4d2876818311b81b", "summary":"", "readme":"# Sample github package", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slalpha3", "icon":"", "createdDate":1622656370000, "modules":[], "pullCount":1}, {"organization":"hevayo", "name":"beta1", "version":"0.2.0", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/hevayo/beta1/0.2.0", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/hevayo/beta1/0.2.0/hevayo-beta1-java11-0.2.0.bala", "digest":"sha-256=aa675f3421d7f9ba9b657d52025163c92e62237dcb248dde93532c9fe29c082a", "summary":"Prints \"Hello World!\" with a hello function.", "readme":"Prints \"Hello World!\" with a hello function.\n\n# Package Overview\nPrints \"Hello World!\" as the output to the command line using a hello function.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622654158000, "modules":[{"name":"beta1", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/hevayo/beta1/0.2.0", "packageUrl":"/hevayo/beta1/0.2.0"}], "pullCount":4}, {"organization":"hasitha", "name":"testModule", "version":"0.0.4", "platform":"any", "languageSpecificationVersion":"2021R1", "URL":"/hasitha/testModule/0.0.4", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/hasitha/testModule/0.0.4/hasitha-testModule-any-0.0.4.bala", "digest":"sha-256=c4bde7952f304a6fff47b81b24ac399144b807a7267dbf5cd4f9b8f54f0625f0", "summary":"This is a Test Module\r", "readme":"This is a Test Module\r\n\r\nSome other texts\r", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622652058000, "modules":[{"name":"testModule", "summary":"", "readme":"", "apiDocURL":"https://docs.central.ballerina.io/hasitha/testModule/0.0.4", "packageUrl":"/hasitha/testModule/0.0.4"}], "pullCount":4}, {"organization":"ballerinax", "name":"java.jdbc", "version":"0.6.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/java.jdbc/0.6.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/java.jdbc/0.6.0-beta.1/ballerinax-java.jdbc-java11-0.6.0-beta.1.bala", "digest":"sha-256=0c8349c0a285a79e1f02ca62171189a31f05b4fb89cd9226be1a77252917d871", "summary":"", "readme":"## Package Overview\n\nThe `jdbc` library is one of the external library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language. This external package is maintained by the Ballerina team.\n\nIt provides the functionality required to access and manipulate data stored in any type of relational database\nthat is accessible via Java Database Connectivity (JDBC).\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n- Discuss code changes of the Ballerina project in ballerina-dev@googlegroups.com.\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622649980000, "modules":[{"name":"java.jdbc", "summary":"", "readme":"## Overview\n\nThis module provides the functionality that is required to access and manipulate data stored in any type of relational database,\nwhich is accessible via Java Database Connectivity (JDBC).\n\n**Prerequisite:** Add the JDBC driver corresponding to the database you are trying to interact with\nas a native library dependency in your Ballerina project. Then, once you build the project by executing the `ballerina build`\ncommand, you should be able to run the resultant by executing the `ballerina run` command.\n\nE.g., The `Ballerina.toml` content for an H2 database will be as follows.\nChange the path to the JDBC driver appropriately.\n\n```toml\n[package]\norg = \"sample\"\nname = \"jdbc\"\nversion= \"0.1.0\"\n\n[[platform.java11.dependency]]\nartifactId = \"h2\"\nversion = \"1.4.200\"\npath = \"\/path\/to\/com.h2database.h2-1.4.200.jar\"\ngroupId = \"com.h2database\"\n``` \n\n### Client\nTo access a database, you must first create a\n[jdbc:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/clients\/Client) object.\nThe examples for creating a JDBC client can be found below.\n\n#### Creating a Client\nThis example shows the different ways of creating the `jdbc:Client`. The client can be created by passing\nthe JDBC URL, which is a mandatory property and all other fields are optional.\n\nThe `dbClient` receives only the database URL.\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (\"jdbc:h2:~\/path\/to\/database\");\n```\n\nThe `dbClient` receives the username and password in addition to the URL.\nIf the properties are passed in the same order as they are defined in the `jdbc:Client`, you can pass them\nwithout named params.\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (\"jdbc:h2:~\/path\/to\/database\", \n                            \"root\", \"root\");\n```\n\nThe `dbClient` uses the named params to pass all the attributes and provides the `options` property in the type of\n[jdbc:Options](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/records\/Options),\nand also uses the unshared connection pool in the type of\n[sql:ConnectionPool](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).\nFor more information about connection pooling, see the [`sql` module](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest).\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (url =  \"jdbc:h2:~\/path\/to\/database\",\n                             user = \"root\", password = \"root\",\n                             options = {\n                                 datasourceName: \"org.h2.jdbcx.JdbcDataSource\"\n                             },\n                             connectionPool = {\n                                 maxOpenConnections: 5\n                             });\n```\n\nThe `dbClient` receives some custom properties within the\n[jdbc:Options](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/records\/Options),   \nand those properties will be used by the defined `datasourceName`.\nAs per the provided example, the `org.h2.jdbcx.JdbcDataSource` datasource  will be configured with a `loginTimeout`\nof `2000` milliseconds.\n\nE.g., The DB client creation for an H2 database will be as follows.\n```ballerina\njdbc:Client|sql:Error dbClient = new (url =  \"jdbc:h2:~\/path\/to\/database\", \n                             user = \"root\", password = \"root\",\n                             options = {\n                                datasourceName: \"org.h2.jdbcx.JdbcDataSource\", \n                                properties: {\"loginTimeout\": \"2000\"}\n                             });                          \n```\n\nYou can find more details about each property in the\n[jdbc:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/clients\/Client) constructor.\n\nThe [jdbc:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest\/clients\/Client) references\n[sql:Client](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/clients\/Client) and\nall the operations defined by the `sql:Client` will be supported by the `jdbc:Client` as well.\n\n#### Connection Pool Handling\n\nAll ballerina database modules share the same connection pooling concept and there are three possible scenarios for\nconnection pool handling.  For its properties and possible values, see the [`sql:ConnectionPool`](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).\n\n1. Global shareable default connection pool\n\n   If you do not provide the `poolOptions` field when creating the database client, a globally-shareable pool will be\n   created for your database unless a connection pool matching with the properties you provided already exists.\n   The JDBC module example below shows how the global connection pool is used.\n\n   E.g., The DB client creation for an H2 database is as follows.\n   ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (\"jdbc:h2:~\/path\/to\/database\", \n                                \"root\", \"root\");\n    ```\n\n2. Client owned, unsharable connection pool\n\n   If you define the `connectionPool` field inline when creating the database client with the `sql:ConnectionPool` type,\n   an unsharable connection pool will be created. The JDBC module example below shows how the global\n   connection pool is used.\n\n   E.g., The DB client creation for an H2 database is as follows.\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (url = \"jdbc:h2:~\/path\/to\/database\", \n                               connectionPool = { maxOpenConnections: 5 });\n    ```\n\n3. Local, shareable connection pool\n\n   If you create a record of type `sql:ConnectionPool` and reuse that in the configuration of multiple clients,\n   for each set of clients that connects to the same database instance with the same set of properties, a shared\n   connection pool will be created. The JDBC module example below shows how the global connection pool is used.\n\n   E.g., The DB client creation for an H2 database is as follows.\n    ```ballerina\n    sql:ConnectionPool connPool = {maxOpenConnections: 5};\n    \n    jdbc:Client|sql:Error dbClient1 =       \n                               new (url = \"jdbc:h2:~\/path\/to\/database\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient2 = \n                               new (url = \"jdbc:h2:~\/path\/to\/database\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient3 = \n                               new (url = \"jdbc:h2:~\/path\/to\/database\",\n                               connectionPool = connPool);\n    ```\n   \n#### Closing the Client\n\nOnce all the database operations are performed, you can close the database client you have created by invoking the `close()`\noperation. This will close the corresponding connection pool if it is not shared by any other database clients. \n\n```ballerina\nerror? e = dbClient.close();\n```\nOr\n```ballerina\ncheck dbClient.close();\n```\n\n### Database Operations\n\nOnce the client is created, database operations can be executed through that client. This module defines the interface\nand common properties that are shared among multiple database clients.  It also supports querying, inserting, deleting,\nupdating, and batch updating data.\n\n#### Creating Tables\n\nThis sample creates a table with two columns. One column is of type `int` and the other is of type `varchar`.\nThe `CREATE` statement is executed via the `execute` remote function of the client.\n\n```ballerina\n\/\/ Create the ‘Students’ table with the  ‘id’, 'name', and ‘age’ fields.\nsql:ExecutionResult ret = check dbClient->execute(\"CREATE TABLE student(id INT AUTO_INCREMENT, \" +\n                         \"age INT, name VARCHAR(255), PRIMARY KEY (id))\");\n\/\/A value of the sql:ExecutionResult type is returned for 'ret'. \n```\n\n#### Inserting Data\n\nThis sample shows three examples of data insertion by executing an `INSERT` statement using the `execute` remote function\nof the client.\n\nIn the first example, the query parameter values are passed directly into the query statement of the `execute`\nremote function.\n\n```ballerina\nsql:ExecutionResult ret = check dbClient->execute(\"INSERT INTO student(age, name) \" +\n                         \"values (23, 'john')\");\n```\n\nIn the second example, the parameter values, which are in local variables are used to parameterize the SQL query in\nthe `execute` remote function. This type of parameterized SQL query can be used with any primitive Ballerina type\nlike `string`, `int`, `float`, or `boolean` and in that case, the corresponding SQL type of the parameter is derived\nfrom the type of the Ballerina variable that is passed in.\n\n```ballerina\nstring name = \"Anne\";\nint age = 8;\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\nIn the third example, the parameter values are passed as a `sql:TypedValue` to the `execute` remote function. Use the\ncorresponding subtype of the `sql:TypedValue` such as `sql:Varchar`, `sql:Char`, `sql:Integer`, etc., when you need to\nprovide more details such as the exact SQL type of the parameter.\n\n```ballerina\nsql:VarcharValue name = new (\"James\");\nsql:IntegerValue age = new (10);\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\n#### Inserting Data With Auto-generated Keys\n\nThis example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the\n`execute` remote function to execute the `INSERT` statement.\n\n```ballerina\nint age = 31;\nstring name = \"Kate\";\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResultret = check dbClient->execute(query);\n\/\/Number of rows affected by the execution of the query.\nint? count = ret.affectedRowCount;\n\/\/The integer or string generated by the database in response to a query execution.\nstring|int? generatedKey = ret.lastInsertId;\n}\n```\n\n#### Querying Data\n\nThis sample shows three examples to demonstrate the different usages of the `query` operation and query the\ndatabase table and obtain the results.\n\nThis example demonstrates querying data from a table in a database.\nFirst, a type is created to represent the returned result set. Note that the mapping of the database column\nto the returned record's property is case-insensitive (i.e., the `ID` column in the result can be mapped to the `id`\nproperty in the record). Next, the `SELECT` query is executed via the `query` remote function of the client by passing that\nresult set type. Once the query is executed, each data record can be retrieved by looping the result set. The `stream`\nreturned by the select operation holds a pointer to the actual data in the database and it loads data from the table\nonly when it is accessed. This stream can be iterated only once.\n\n```ballerina\n\/\/ Define a type to represent the results.\ntype Student record {\n    int id;\n    int age;\n    string name;\n};\n\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as\n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<Student, sql:Error> resultStream = \n        <stream<Student, sql:Error>> dbClient->query(query, Student);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(Student student) {\n   \/\/Can perform any operations using 'student' and can access any fields in the returned record of type Student.\n});\n```\n\nDefining the return type is optional and you can query the database without providing the result type. Hence,\nthe above example can be modified as follows with an open record type as the return type. The property name in the open record\ntype will be the same as how the column is defined in the database.\n\n```ballerina\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as \n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<record{}, sql:Error> resultStream = dbClient->query(query);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(record{} student) {\n    \/\/Can perform any operations using 'student' and can access any fields in the returned record.\n});\n```\n\nThere are situations in which you may not want to iterate through the database and in that case, you may decide\nto only use the `next()` operation in the result `stream` and retrieve the first record. In such cases, the returned\nresult stream will not be closed and you have to explicitly invoke the `close` operation on the\n`sql:Client` to release the connection resources and avoid a connection leak as shown below.\n\n```ballerina\nstream<record{}, sql:Error> resultStream = \n            dbClient->query(\"SELECT count(*) as total FROM students\");\n\nrecord {|record {} value;|}|error? result = resultStream.next();\n\nif result is record {|record {} value;|} {\n    \/\/valid result is returned.\n} else if result is error {\n    \/\/ An error is returned as the result.\n} else {\n    \/\/ Student table must be empty.\n}\n\nerror? e = resultStream.close();\n```\n\n#### Updating Data\n\nThis example demonstrates modifying data by executing an `UPDATE` statement via the `execute` remote function of\nthe client.\n\n```ballerina\nint age = 23;\nsql:ParameterizedQuery query = `UPDATE students SET name = 'John' \n                                WHERE age = ${age}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Deleting Data\n\nThis example demonstrates deleting data by executing a `DELETE` statement via the `execute` remote function of\nthe client.\n\n```ballerina\nstring name = \"John\";\nsql:ParameterizedQuery query = `DELETE from students WHERE name = ${name}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Batch Updating Data\n\nThis example demonstrates how to insert multiple records with a single `INSERT` statement that is executed via the\n`batchExecute` remote function of the client. This is done by creating a `table` with multiple records and\nparameterized SQL query as same as the  above `execute` operations.\n\n```ballerina\n\/\/ Create the table with the records that need to be inserted.\nvar data = [\n  { name: \"John\", age: 25  },\n  { name: \"Peter\", age: 24 },\n  { name: \"jane\", age: 22 }\n];\n\n\/\/ Do the batch update by passing the batches.\nsql:ParameterizedQuery[] batch = from var row in data\n                                 select `INSERT INTO students ('name', 'age')\n                                 VALUES (${row.name}, ${row.age})`;\nsql:ExecutionResult[] ret = check dbClient->batchExecute(batch);\n```\n\n#### Execute SQL Stored Procedures\n\nThis example demonstrates how to execute a stored procedure with a single `INSERT` statement that is executed via the\n`call` remote function of the client.\n\n```ballerina\nint uid = 10;\nsql:IntegerOutParameter insertId = new;\n\nsql:ProcedureCallResult|sql:Error ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);\nif ret is error {\n    \/\/An error returned\n} else {\n    stream<record{}, sql:Error>? resultStr = ret.queryResult;\n    if resultStr is stream<record{}, sql:Error> {\n        sql:Error? e = resultStr.forEach(function(record{} result) {\n        \/\/can perform operations using 'result'.\n      });\n    }\n    check ret.close();\n}\n```\nNote that you have to explicitly invoke the close operation on the `sql:ProcedureCallResult` to release the connection resources and avoid a connection leak as shown above.\n\n>**Note:** The default thread pool size used in Ballerina is: [the number of processors available * 2]. You can configure\nthe thread pool size by using the `BALLERINA_MAX_POOL_SIZE` environment variable.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/java.jdbc/0.6.0-beta.1", "packageUrl":"/ballerinax/java.jdbc/0.6.0-beta.1"}], "pullCount":7}, {"organization":"ballerinax", "name":"mysql", "version":"0.7.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/mysql/0.7.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/mysql/0.7.0-beta.1/ballerinax-mysql-java11-0.7.0-beta.1.bala", "digest":"sha-256=ee6538d4b412e5c55260ea2916661936568dcfce0ab36ea4304db7fd550cd39f", "summary":"", "readme":"## Package overview\n\nThe `mysql` library is one of the external library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language.  This external package is maintained by the Ballerina team.\n\nThis provides the functionality required to access and manipulate data stored in a MySQL database.\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n- Discuss code changes of the Ballerina project in ballerina-dev@googlegroups.com.\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622649953000, "modules":[{"name":"mysql", "summary":"", "readme":"## Overview\n\nThis module provides the functionality required to access and manipulate data stored in a MySQL database.\n\n**Prerequisite:** Add the MySQL driver JAR as a native library dependency in your Ballerina project.\nThis module uses the database properties from the MySQL version 8.0.13 onwards. Therefore, it is recommended to use a\nMySQL driver version greater than 8.0.13. Then, once you build the project by executing the `ballerina build`\ncommand, you should be able to run the resultant by executing the `ballerina run` command.\n\nE.g., The `Ballerina.toml` content.\nChange the path to the JDBC driver appropriately.\n\n```toml\n[package]\norg = \"sample\"\nname = \"mysql\"\nversion= \"0.1.0\"\n\n[[platform.java11.dependency]]\nartifactId = \"mysql-connector-java\"\nversion = \"8.0.17\"\npath = \"\/path\/to\/mysql-connector-java-8.0.17.jar\"\ngroupId = \"mysql\"\n``` \n\n### Client\nTo access a database, you must first create a\n[mysql:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/clients\/Client) object.\nThe examples for creating a MySQL client can be found below.\n\n#### Creating a Client\nThis example shows the different ways of creating the `mysql:Client`.\n\nThe client can be created with an empty constructor, and thereby, the client will be initialized with the default properties.\n\n```ballerina\nmysql:Client|sql:Error dbClient = new ();\n```\n\nThe `dbClient` receives the host, username, and password. Since the properties are passed in the same order as they are defined\nin the `jdbc:Client`, you can pass them without named params.\n\n```ballerina\nmysql:Client|sql:Error dbClient = new (\"localhost\", \"rootUser\", \"rooPass\", \n                              \"information_schema\", 3306);\n```\n\nThe `dbClient` uses the named params to pass the attributes since it is skipping some params in the constructor.\nFurther, the [`mysql:Options`](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/records\/Options)\nproperty is passed to configure the SSL and connection timeout in the MySQL client.\n\n```ballerina\nmysql:Options mysqlOptions = {\n  ssl: {\n    mode: mysql:SSL_PREFERRED\n  },\n  connectTimeout: 10\n};\nmysql:Client|sql:Error dbClient = new (user = \"rootUser\", password = \"rootPass\",\n                              options = mysqlOptions);\n```\n\nSimilarly, the `dbClient` uses the named params and it provides an unshared connection pool of the type of\n[sql:ConnectionPool](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool)\nto be used within the client.\nFor more details about connection pooling, see the [`sql` Module](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest).\n\n```ballerina\nmysql:Client|sql:Error dbClient = new (user = \"rootUser\", password = \"rootPass\",\n                              connectionPool = {maxOpenConnections: 5});\n```\n\n#### Using SSL\nTo connect the MySQL database using an SSL connection, you must add the SSL configurations to the `mysql:Options` when creating the `dbClient`.\nFor the SSL Mode, you can select one of the modes: `mysql:SSL_PREFERRED`, `mysql:SSL_REQUIRED`, `mysql:SSL_VERIFY_CA`, or `mysql:SSL_VERIFY_IDENTITY` according to the requirement.\nFor the key and cert files, you must provide the files in the `.p12` format.\n\n```ballerina\nstring clientStorePath = \"\/path\/to\/keystore.p12\";\nstring turstStorePath = \"\/path\/to\/truststore.p12\";\n\nmysql:Options mysqlOptions = {\n  ssl: {\n    mode: mysql:SSL_PREFERRED,\n    key: {\n        path: clientStorePath,\n        password: \"password\"\n    },\n    cert: {\n        path: turstStorePath,\n        password: \"password\"\n    }\n  }\n};\n```\n#### Connection Pool Handling\n\nAll database modules share the same connection pooling concept and there are three possible scenarios for \nconnection pool handling.  For its properties and possible values, see the [`sql:ConnectionPool`](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).\n\n1. Global, shareable, default connection pool\n\n    If you do not provide the `poolOptions` field when creating the database client, a globally-shareable pool will be \n    created for your database unless a connection pool matching with the properties you provided already exists. \n    The JDBC module example below shows how the global connection pool is used. \n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (\"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                                \"root\", \"root\");\n    ```\n\n2. Client owned, unsharable connection pool\n\n    If you define the `connectionPool` field inline when creating the database client with the `sql:ConnectionPool` type, \n    an unsharable connection pool will be created. The JDBC module example below shows how the global \n    connection pool is used.\n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                               connectionPool = { maxOpenConnections: 5 });\n    ```\n\n3. Local, shareable connection pool\n\n    If you create a record of type `sql:ConnectionPool` and reuse that in the configuration of multiple clients, \n    for each set of clients that connects to the same database instance with the same set of properties, a shared \n    connection pool will be created. The JDBC module example below shows how the global connection pool is used.\n\n    ```ballerina\n    sql:ConnectionPool connPool = {maxOpenConnections: 5};\n    \n    jdbc:Client|sql:Error dbClient1 =       \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient2 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient3 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    ```\n   \nFor more details about each property, see the [`mysql:Client`](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/clients\/Client) constructor.\n\nThe [mysql:Client](https:\/\/docs.central.ballerina.io\/ballerinax\/mysql\/latest\/clients\/Client) references\n[sql:Client](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/clients\/Client) and all the operations\ndefined by the `sql:Client` will be supported by the `mysql:Client` as well.\n \n#### Closing the Client\n\nOnce all the database operations are performed, you can close the database client you have created by invoking the `close()`\noperation. This will close the corresponding connection pool if it is not shared by any other database clients. \n\n```ballerina\nerror? e = dbClient.close();\n```\nor\n```ballerina\ncheck dbClient.close();\n```\n\n### Database Operations\n\nOnce the client is created, database operations can be executed through that client. This module defines the interface \nand common properties that are shared among multiple database clients.  It also supports querying, inserting, deleting, \nupdating, and batch updating data.  \n\n#### Creating Tables\n\nThis sample creates a table with two columns. One column is of type `int` and the other is of type `varchar`.\nThe `CREATE` statement is executed via the `execute` remote function of the client.\n\n```ballerina\n\/\/ Create the ‘Students’ table with the  ‘id’, 'name', and ‘age’ fields.\nsql:ExecutionResult ret = check dbClient->execute(\"CREATE TABLE student(id INT AUTO_INCREMENT, \" +\n                         \"age INT, name VARCHAR(255), PRIMARY KEY (id))\");\n\/\/A value of the`sql:ExecutionResult` type is returned for 'ret'. \n```\n\n#### Inserting Data\n\nThis sample shows three examples of data insertion by executing an `INSERT` statement using the `execute` remote function \nof the client.\n\nIn the first example, the query parameter values are passed directly into the query statement of the `execute` \nremote function.\n\n```ballerina\nsql:ExecutionResult ret = check dbClient->execute(\"INSERT INTO student(age, name) \" +\n                         \"values (23, 'john')\");\n```\n\nIn the second example, the parameter values, which are in local variables are used to parameterize the SQL query in \nthe `execute` remote function. This type of a parameterized SQL query can be used with any primitive Ballerina type \nlike `string`, `int`, `float`, or `boolean` and in that case, the corresponding SQL type of the parameter is derived \nfrom the type of the Ballerina variable that is passed in. \n\n```ballerina\nstring name = \"Anne\";\nint age = 8;\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\nIn the third example, the parameter values are passed as an `sql:TypedValue` to the `execute` remote function. Use the \ncorresponding subtype of the `sql:TypedValue` such as `sql:Varchar`, `sql:Char`, `sql:Integer`, etc. when you need to \nprovide more details such as the exact SQL type of the parameter.\n\n```ballerina\nsql:VarcharValue name = new (\"James\");\nsql:IntegerValue age = new (10);\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\n#### Inserting Data With Auto-generated Keys\n\nThis example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the \n`execute` remote function to execute the `INSERT` statement.\n\n```ballerina\nint age = 31;\nstring name = \"Kate\";\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResultret = check dbClient->execute(query);\n\/\/Number of rows affected by the execution of the query.\nint? count = ret.affectedRowCount;\n\/\/The integer or string generated by the database in response to a query execution.\nstring|int? generatedKey = ret.lastInsertId;\n}\n```\n\n#### Querying Data\n\nThis sample shows three examples to demonstrate the different usages of the `query` operation to query the\ndatabase table and obtain the results. \n\nThis example demonstrates querying data from a table in a database. \nFirst, a type is created to represent the returned result set. Note the mapping of the database column \nto the returned record's property is case-insensitive (i.e., the `ID` column in the result can be mapped to the `id` \nproperty in the record). Next, the `SELECT` query is executed via the `query` remote function of the client by passing that \nresult set type. Once the query is executed, each data record can be retrieved by looping the result set. The `stream` \nreturned by the `SELECT` operation holds a pointer to the actual data in the database and it loads data from the table \nonly when it is accessed. This stream can be iterated only once. \n\n```ballerina\n\/\/ Define a type to represent the results.\ntype Student record {\n    int id;\n    int age;\n    string name;\n};\n\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as\n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<Student, sql:Error> resultStream = \n        <stream<Student, sql:Error>> dbClient->query(query, Student);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(Student student) {\n   \/\/Can perform any operations using 'student' and can access any fields in the returned record of type `Student`.\n});\n```\n\nDefining the return type is optional and you can query the database without providing the result type. Hence, \nthe above example can be modified as follows with an open record type as the return type. The property name in the open record \ntype will be the same as how the column is defined in the database. \n\n```ballerina\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as \n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<record{}, sql:Error> resultStream = dbClient->query(query);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(record{} student) {\n    \/\/Can perform any operations using 'student' and can access any fields in the returned record.\n});\n```\n\nThere are situations in which you may not want to iterate through the database and in that case, you may decide\nto only use the `next()` operation in the result `stream` and retrieve the first record. In such cases, the returned\nresult stream will not be closed and you have to invoke the `close` operation explicitly on the \n`sql:Client` to release the connection resources and avoid a connection leak as shown below.\n\n```ballerina\nstream<record{}, sql:Error> resultStream = \n            dbClient->query(\"SELECT count(*) as total FROM students\");\n\nrecord {|record {} value;|}|error? result = resultStream.next();\n\nif result is record {|record {} value;|} {\n    \/\/A valid result is returned.\n} else if result is error {\n    \/\/ An error is returned as the result.\n} else {\n    \/\/ The `Student` table must be empty.\n}\n\nerror? e = resultStream.close();\n```\n\n#### Updating Data\n\nThis example demonstrates modifying data by executing an `UPDATE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nint age = 23;\nsql:ParameterizedQuery query = `UPDATE students SET name = 'John' \n                                WHERE age = ${age}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Deleting Data\n\nThis example demonstrates deleting data by executing a `DELETE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nstring name = \"John\";\nsql:ParameterizedQuery query = `DELETE from students WHERE name = ${name}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Batch Updating Data\n\nThis example demonstrates how to insert multiple records with a single `INSERT` statement that is executed via the \n`batchExecute` remote function of the client. This is done by creating a `table` with multiple records and \nparameterized SQL query as same as the  above `execute` operations.\n\n```ballerina\n\/\/ Create the table with the records that need to be inserted.\nvar data = [\n  { name: \"John\", age: 25  },\n  { name: \"Peter\", age: 24 },\n  { name: \"jane\", age: 22 }\n];\n\n\/\/ Do the batch update by passing the batches.\nsql:ParameterizedQuery[] batch = from var row in data\n                                 select `INSERT INTO students ('name', 'age')\n                                 VALUES (${row.name}, ${row.age})`;\nsql:ExecutionResult[] ret = check dbClient->batchExecute(batch);\n```\n\n#### Execute SQL Stored Procedures\n\nThis example demonstrates how to execute a stored procedure with a single `INSERT` statement that is executed via the \n`call` remote function of the client.\n\n```ballerina\nint uid = 10;\nsql:IntegerOutParameter insertId = new;\n\nsql:ProcedureCallResult|sql:Error ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);\nif ret is error {\n    \/\/An error returned\n} else {\n    stream<record{}, sql:Error>? resultStr = ret.queryResult;\n    if resultStr is stream<record{}, sql:Error> {\n        sql:Error? e = resultStr.forEach(function(record{} result) {\n        \/\/can perform operations using 'result'.\n      });\n    }\n    check ret.close();\n}\n```\n\nNote that you have to invoke the close operation on the `sql:ProcedureCallResult` explicitly to release the connection resources and avoid a connection leak as shown above.\n\n>**Note:** The default thread pool size used in Ballerina is: [the number of processors available * 2]. You can configure\nthe thread pool size by using the `BALLERINA_MAX_POOL_SIZE` environment variable.\n> ", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/mysql/0.7.0-beta.1", "packageUrl":"/ballerinax/mysql/0.7.0-beta.1"}], "pullCount":7}, {"organization":"ballerina", "name":"sql", "version":"0.6.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerina/sql/0.6.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerina/sql/0.6.0-beta.1/ballerina-sql-java11-0.6.0-beta.1.bala", "digest":"sha-256=528214d75b78d3f14b15f1aede0b8ed1c2f3ec1c6ef5c8eeeed0d5f1ffac0a8d", "summary":"", "readme":"## Package Overview\n\nThe SQL library is one of the standard library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\/\"> Ballerina<\/a> language.\n\nIt provides the common interface and functionality to interact with a database. The corresponding database clients can be created by using specific database packages such as MySQL or using the Java Database Connectivity package JDBC.\n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n- Discuss the code changes of the Ballerina project in ballerina-dev@googlegroups.com.\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622649565000, "modules":[{"name":"sql", "summary":"", "readme":"## Overview\n\nThis module provides the common interface and functionality to interact with a database. The corresponding database\nclients can be created by using specific database modules such as `mysql` or using the Java Database Connectivity \nmodule `jdbc`.\n\n### List of Database Modules\nBallerina now has the [`jdbc` module](https:\/\/docs.central.ballerina.io\/ballerinax\/java.jdbc\/latest) as the generic DB connector module to connect to any relational database by simply providing the JDBC URL and the other related properties.\nBallerina also provides specially designed various database-specific DB connectors so that you can work with different databases and you can access their DB-specific functionalities.\n\n### Client\n\nThe database client should be created using any of the above-listed database modules and once it is created, the operations and functionality explained below can be used. \n\n#### Connection Pool Handling\n\nAll database modules share the same connection pooling concept and there are three possible scenarios for \nconnection pool handling.  For its properties and possible values, see the [`sql:ConnectionPool`](https:\/\/docs.central.ballerina.io\/ballerina\/sql\/latest\/records\/ConnectionPool).  \n\n1. Global, shareable, default connection pool\n\n    If you do not provide the `poolOptions` field when creating the database client, a globally-shareable pool will be \n    created for your database unless a connection pool matching with the properties you provided already exists. \n    The JDBC module example below shows how the global connection pool is used. \n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (\"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                                \"root\", \"root\");\n    ```\n\n2. Client-owned, unsharable connection pool\n\n    If you define the `connectionPool` field inline when creating the database client with the `sql:ConnectionPool` type, \n    an unsharable connection pool will be created. The JDBC module example below shows how the global \n    connection pool is used.\n\n    ```ballerina\n    jdbc:Client|sql:Error dbClient = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\", \n                               connectionPool = { maxOpenConnections: 5 });\n    ```\n\n3. Local, shareable connection pool\n\n    If you create a record of the `sql:ConnectionPool` type and reuse that in the configuration of multiple clients, \n    for each set of clients that connects to the same database instance with the same set of properties, a shared \n    connection pool will be created. The JDBC module example below shows how the global connection pool is used.\n\n    ```ballerina\n    sql:ConnectionPool connPool = {maxOpenConnections: 5};\n    \n    jdbc:Client|sql:Error dbClient1 =       \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient2 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    jdbc:Client|sql:Error dbClient3 = \n                               new (url = \"jdbc:mysql:\/\/localhost:3306\/testdb\",\n                               connectionPool = connPool);\n    ```\n    \n#### Closing the Client\n\nOnce all the database operations are performed, you can close the database client you have created by invoking the `close()`\noperation. This will close the corresponding connection pool if it is not shared by any other database clients. \n\n```ballerina\nerror? e = dbClient.close();\n```\nOr\n```ballerina\ncheck dbClient.close();\n```\n\n### Database Operations\n\nOnce the client is created, database operations can be executed through that client. This module defines the interface \nand common properties that are shared among multiple database clients.  It also supports querying, inserting, deleting, \nupdating, and batch updating data.  \n\n#### Creating Tables\n\nThis sample creates a table with two columns. One column is of type `int` and the other is of type `varchar`.\nThe `CREATE` statement is executed via the `execute` remote function of the client.\n\n```ballerina\n\/\/ Create the ‘Students’ table with the  ‘id’, 'name', and ‘age’ fields.\nsql:ExecutionResult ret = check dbClient->execute(\"CREATE TABLE student(id INT AUTO_INCREMENT, \" +\n                         \"age INT, name VARCHAR(255), PRIMARY KEY (id))\");\n\/\/A value of the sql:ExecutionResult type is returned for 'ret'. \n```\n\n#### Inserting Data\n\nThis sample shows three examples of data insertion by executing an `INSERT` statement using the `execute` remote function \nof the client.\n\nIn the first example, the query parameter values are passed directly into the query statement of the `execute` \nremote function.\n\n```ballerina\nsql:ExecutionResult ret = check dbClient->execute(\"INSERT INTO student(age, name) \" +\n                         \"values (23, 'john')\");\n```\n\nIn the second example, the parameter values, which are in local variables are used to parameterize the SQL query in \nthe `execute` remote function. This type of a parameterized SQL query can be used with any primitive Ballerina type \nlike `string`, `int`, `float`, or `boolean` and in that case, the corresponding SQL type of the parameter is derived \nfrom the type of the Ballerina variable that is passed in. \n\n```ballerina\nstring name = \"Anne\";\nint age = 8;\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\nIn the third example, the parameter values are passed as a `sql:TypedValue` to the `execute` remote function. Use the \ncorresponding subtype of the `sql:TypedValue` such as `sql:Varchar`, `sql:Char`, `sql:Integer`, etc., when you need to \nprovide more details such as the exact SQL type of the parameter.\n\n```ballerina\nsql:VarcharValue name = new (\"James\");\nsql:IntegerValue age = new (10);\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResult ret = check dbClient->execute(query);\n```\n\n#### Inserting Data With Auto-generated Keys\n\nThis example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the \n`execute` remote function to execute the `INSERT` statement.\n\n```ballerina\nint age = 31;\nstring name = \"Kate\";\n\nsql:ParameterizedQuery query = `INSERT INTO student(age, name)\n                                values (${age}, ${name})`;\nsql:ExecutionResultret = check dbClient->execute(query);\n\/\/Number of rows affected by the execution of the query.\nint? count = ret.affectedRowCount;\n\/\/The integer or string generated by the database in response to a query execution.\nstring|int? generatedKey = ret.lastInsertId;\n}\n```\n\n#### Querying Data\n\nThis sample shows three examples to demonstrate the different usages of the `query` operation to query the\ndatabase table and obtain the results. \n\nThis example demonstrates querying data from a table in a database. \nFirst, a type is created to represent the returned result set. Note the mapping of the database column \nto the returned record's property is case-insensitive (i.e., the `ID` column in the result can be mapped to the `id` \nproperty in the record). Next, the `SELECT` query is executed via the `query` remote function of the client by passing that \nresult set type. Once the query is executed, each data record can be retrieved by looping the result set. The `stream` \nreturned by the select operation holds a pointer to the actual data in the database and it loads data from the table \nonly when it is accessed. This stream can be iterated only once. \n\n```ballerina\n\/\/ Define a type to represent the results.\ntype Student record {\n    int id;\n    int age;\n    string name;\n};\n\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as\n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<Student, sql:Error> resultStream = \n        <stream<Student, sql:Error>> dbClient->query(query, Student);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(Student student) {\n   \/\/Can perform any operations using 'student' and can access any fields in the returned record of type Student.\n});\n```\n\nDefining the return type is optional and you can query the database without providing the result type. Hence, \nthe above example can be modified as follows with an open record type as the return type. The property name in the open record \ntype will be the same as how the column is defined in the database. \n\n```ballerina\n\/\/ Select the data from the database table. The query parameters are passed \n\/\/ directly. Similar to the `execute` examples, parameters can be passed as \n\/\/ sub types of `sql:TypedValue` as well.\nint id = 10;\nint age = 12;\nsql:ParameterizedQuery query = `SELECT * FROM students\n                                WHERE id < ${id} AND age > ${age}`;\nstream<record{}, sql:Error> resultStream = dbClient->query(query);\n\n\/\/ Iterating the returned table.\nerror? e = resultStream.forEach(function(record{} student) {\n    \/\/Can perform any operations using the 'student' and can access any fields in the returned record.\n});\n```\n\nThere are situations in which you may not want to iterate through the database and in that case, you may decide\nto only use the `next()` operation in the result `stream` and retrieve the first record. In such cases, the returned\nresult stream will not be closed, and you have to explicitly invoke the `close` operation on the \n`sql:Client` to release the connection resources and avoid a connection leak as shown below.\n\n```ballerina\nstream<record{}, sql:Error> resultStream = \n            dbClient->query(\"SELECT count(*) as total FROM students\");\n\nrecord {|record {} value;|}|error? result = resultStream.next();\n\nif result is record {|record {} value;|} {\n    \/\/ A valid result is returned.\n} else if result is error {\n    \/\/ An error is returned as the result.\n} else {\n    \/\/ Student table must be empty.\n}\n\nerror? e = resultStream.close();\n```\n\n#### Updating Data\n\nThis example demonstrates modifying data by executing an `UPDATE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nint age = 23;\nsql:ParameterizedQuery query = `UPDATE students SET name = 'John' \n                                WHERE age = ${age}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Deleting Data\n\nThis example demonstrates deleting data by executing a `DELETE` statement via the `execute` remote function of \nthe client.\n\n```ballerina\nstring name = \"John\";\nsql:ParameterizedQuery query = `DELETE from students WHERE name = ${name}`;\nsql:ExecutionResult|sql:Error ret = check dbClient->execute(query);\n```\n\n#### Batch Updating Data\n\nThis example demonstrates how to insert multiple records with a single `INSERT` statement that is executed via the \n`batchExecute` remote function of the client. This is done by creating a `table` with multiple records and \nparameterized SQL query as same as the above `execute` operations.\n\n```ballerina\n\/\/ Create the table with the records that need to be inserted.\nvar data = [\n  { name: \"John\", age: 25  },\n  { name: \"Peter\", age: 24 },\n  { name: \"jane\", age: 22 }\n];\n\n\/\/ Do the batch update by passing the batches.\nsql:ParameterizedQuery[] batch = from var row in data\n                                 select `INSERT INTO students ('name', 'age')\n                                 VALUES (${row.name}, ${row.age})`;\nsql:ExecutionResult[] ret = check dbClient->batchExecute(batch);\n```\n\n#### Execute SQL Stored Procedures\n\nThis example demonstrates how to execute a stored procedure with a single `INSERT` statement that is executed via the \n`call` remote function of the client.\n\n```ballerina\nint uid = 10;\nsql:IntegerOutParameter insertId = new;\n\nsql:ProcedureCallResult|sql:Error ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);\nif ret is error {\n    \/\/An error returned.\n} else {\n    stream<record{}, sql:Error>? resultStr = ret.queryResult;\n    if resultStr is stream<record{}, sql:Error> {\n        sql:Error? e = resultStr.forEach(function(record{} result) {\n        \/\/can perform operations using 'result'.\n      });\n    }\n    check ret.close();\n}\n```\nNote that you have to invoke the close operation explicitly on the `sql:ProcedureCallResult` to release the connection resources and avoid a connection leak as shown above.\n\n>**Note:** The default thread pool size used in Ballerina is: [the number of processors available * 2] . You can configure\nthe thread pool size by using the `BALLERINA_MAX_POOL_SIZE` environment variable.", "apiDocURL":"https://docs.central.ballerina.io/ballerina/sql/0.6.0-beta.1", "packageUrl":"/ballerina/sql/0.6.0-beta.1"}], "pullCount":4}, {"organization":"ballerinax", "name":"rabbitmq", "version":"1.1.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/rabbitmq/1.1.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/rabbitmq/1.1.0-beta.1/ballerinax-rabbitmq-java11-1.1.0-beta.1.bala", "digest":"sha-256=7dedd0fb5c4a63571e083663bd81083cbc2df5c1ee0c6e8a034a5368b6ce232a", "summary":"", "readme":"## Package Overview\n\nThe `rabbitmq` library is one of the standard library packages of the<a target=\"_blank\" href=\"https:\/\/ballerina.io\n\/\"> Ballerina <\/a> language.\n\nThis package provides the capability to send and receive messages by connecting to the RabbitMQ server. RabbitMQ gives your applications a common platform to send and receive messages and a safe place for your messages to live until received. RabbitMQ is one of the most popular open-source message brokers. It is lightweight and easy to deploy on-premise and in the cloud. \n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Standard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n\n- Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622648677000, "modules":[{"name":"rabbitmq", "summary":"", "readme":"## Overview\n\nThis module provides the capability to send and receive messages by connecting to the RabbitMQ server.\n\nRabbitMQ gives your applications a common platform to send and receive messages and a safe place for your messages to live until received. RabbitMQ is one of the most popular open-source message brokers. It is lightweight and easy to deploy on-premise and in the cloud.\n\n### Basic Usage\n\n#### Setting Up the Connection\n\nFirst, you need to set up the connection with the RabbitMQ server. The following ways can be used to connect to a\nRabbitMQ server.\n\n1. Connect to a RabbitMQ node with the default host and port:\n```ballerina\n    rabbitmq:Client rabbitmqClient = check new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n```\n\n2. Connect to a RabbitMQ node with a custom host and port:\n```ballerina\n    rabbitmq:Client rabbitmqClient = check new(\"localhost\", 5672);\n```\n\n3. Connect to a RabbitMQ node with host, port, and additional configurations:\n```ballerina\n    rabbitmq:ConnectionConfiguration config = {\n        username: \"ballerina\",\n        password: \"password\"\n    };\n    rabbitmq:Client rabbitmqClient = check new(\"localhost\", 5672, configs);\n```\n\nThe `rabbitmq:Client` can now be used to send and receive messages as described in the subsequent sections.\n\n#### Using Exchanges and Queues\n\nClient applications work with exchanges and queues, which are the high-level building blocks of the AMQP protocol. These must be declared before they can be used. The following code declares an exchange and a server-named queue and then binds them together.\n\n```ballerina\n    check rabbitmqClient->exchangeDeclare(\"MyExchange\", rabbitmq:DIRECT_EXCHANGE);\n    check rabbitmqClient->queueDeclare(\"MyQueue\");\n    check rabbitmqClient->queueBind(\"MyQueue\", \"MyExchange\", \"routing-key\");\n```\n\nThis sample code will declare,\n- a durable auto-delete exchange of the type `rabbitmq:DIRECT_EXCHANGE`\n- a non-durable, exclusive auto-delete queue with an auto-generated name\n\nNext, the `queueBind` function is called to bind the queue to the exchange with the given routing key.\n\n```ballerina\n    check rabbitmqClient->exchangeDeclare(\"MyExchange\", rabbitmq:DIRECT_EXCHANGE);\n    check rabbitmqClient->queueDeclare(\"MyQueue\", { durable: true,\n                                                   exclusive: false,\n                                                   autoDelete: false });\n    check rabbitmqClient->queueBind(\"MyQueue\", \"MyExchange\", \"routing-key\");\n```\n\nThis sample code will declare,\n- a durable auto-delete exchange of the type `rabbitmq:DIRECT_EXCHANGE`\n- a durable, non-exclusive, non-auto-delete queue with a well-known name\n\n#### Deleting Entities and Purging Queues\n\n- Delete a queue:\n```ballerina\n    check rabbitmqClient->queueDelete(\"MyQueue\");\n```\n- Delete a queue only if it is empty:\n```ballerina\n    check rabbitmqClient->queueDelete(\"MyQueue\", false, true);\n```\n- Delete a queue only if it is unused (does not have any consumers):\n```ballerina\n    check rabbitmqClient->queueDelete(\"MyQueue\", true, false);\n```\n- Delete an exchange:\n```ballerina\n    check rabbitmqClient->exchangeDelete(\"MyExchange\");\n```\n- Purge a queue (delete all of its messages):\n```ballerina\n    check rabbitmqClient->queuePurge(\"MyQueue\");\n```\n\n#### Publishing Messages\n\nTo publish a message to an exchange, use the `publishMessage()` function as follows:\n\n```ballerina\n    string message = \"Hello from Ballerina\";\n    check rabbitmqClient->publishMessage({ content: message.toBytes(), routingKey: queueName });\n``` \nSetting other properties of the message such as routing headers can be done by using the `BasicProperties` record with the appropriate values.\n\n```ballerina\n    rabbitmq:BasicProperties props = {\n       replyTo: \"reply-queue\"  \n    };\n    string message = \"Hello from Ballerina\";\n    check rabbitmqClient->publishMessage({ content: message.toBytes(), routingKey: queueName, properties: props });\n```\n\n#### Consuming Messages using Consumer Services\n\nThe most efficient way to receive messages is to set up a subscription using a Ballerina RabbitMQ `rabbitmq:Listener` and any number of consumer services. The messages will then be delivered automatically as they arrive rather than having to be explicitly requested. Multiple consumer services can be bound to one Ballerina RabbitMQ `rabbitmq:Listener`. The queue to which the service is listening is configured in the `rabbitmq:ServiceConfig` annotation of the service or else as the name of the service.\n\n1. Listen to incoming messages with the `onMessage` remote method:\n\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\"\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onMessage(rabbitmq:Message message) {\n        }\n    }\n```\n\n2. Listen to incoming messages and reply directly with the `onRequest` remote method:\n\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\"\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onRequest(rabbitmq:Message message) returns string {\n            return \"Hello Back!\";\n        }\n    }\n```\n\nThe `rabbitmq:Message` record received can be used to retrieve its contents.\n\n### Advanced Usage\n\n#### Client Acknowledgements\n\nThe message consuming is supported by mainly two types of acknowledgement modes, which are auto acknowledgements and client acknowledgements.\nClient acknowledgements can further be divided into two different types as positive and negative acknowledgements.\nThe default acknowledgement mode is auto-ack (messages are acknowledged immediately after consuming). The following examples show the usage of positive and negative acknowledgements.\n> WARNING: To ensure the reliability of receiving messages, use the client-ack mode.\n\n1. Positive client acknowledgement:\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\",\n        autoAck: false\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onMessage(rabbitmq:Message message, rabbitmq:Caller caller) {\n            rabbitmq:Error? result = caller->basicAck();\n        }\n    }\n```\n\n2. Negative client acknowledgement:\n```ballerina\n    listener rabbitmq:Listener channelListener= new(rabbitmq:DEFAULT_HOST, rabbitmq:DEFAULT_PORT);\n    \n    @rabbitmq:ServiceConfig {\n        queueName: \"MyQueue\",\n        autoAck: false\n    }\n    service rabbitmq:Service on channelListener {\n        remote function onMessage(rabbitmq:Message message) {\n            rabbitmq:Error? result = caller->basicNack(true, requeue = false);\n        }\n    }\n```\n\nThe negatively-acknowledged (rejected) messages can be re-queued by setting the `requeue` to `true`.", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/rabbitmq/1.1.0-beta.1", "packageUrl":"/ballerinax/rabbitmq/1.1.0-beta.1"}], "pullCount":5}, {"organization":"ballerinax", "name":"kafka", "version":"2.1.0-beta.1", "platform":"java11", "languageSpecificationVersion":"2021R1", "URL":"/ballerinax/kafka/2.1.0-beta.1", "balaVersion":"2.0.0", "balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/kafka/2.1.0-beta.1/ballerinax-kafka-java11-2.1.0-beta.1.bala", "digest":"sha-256=7159ab5a705431b87b813b41b883ad49eba67c8686520ddb7fb630f745703590", "summary":"", "readme":"## Overview\n\nThe `kafka` package is one of the standard library packages of the <a target=\"_blank\" href=\"https:\/\/ballerina.io \/\"> Ballerina<\/a> language.\n\nThis package provides support for the Apache Kafka event streaming platform. This helps to communicate with Kafka brokers as Producers and Consumers. Apache Kafka is an open-source distributed event streaming platform used for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.  \n\n### Report Issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina\nStandard Library parent repository](https:\/\/github.com\/ballerina-platform\/ballerina-standard-library).\n\n### Useful Links\n\n- Discuss about code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag.", "template":false, "licenses":[], "authors":[], "sourceCodeLocation":"", "keywords":[], "ballerinaVersion":"slbeta1", "icon":"", "createdDate":1622648489000, "modules":[{"name":"kafka", "summary":"", "readme":"## Overview\n\nThis module provides an implementation to interact with Kafka Brokers via Kafka Consumer and Kafka Producer clients.\n\nApache Kafka is an open-source distributed event streaming platform used for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.\n\nThis module supports Kafka 1.x.x and 2.0.0 versions.\n\n### Consumer and Producer\n#### Kafka Producer\nA Kafka producer is a Kafka client that publishes records to the Kafka cluster. The producer is thread-safe and sharing a single producer instance across threads will generally be faster than having multiple instances. When working with a Kafka producer, the first thing to do is to initialize the producer.\nFor the producer to execute successfully, an active Kafka broker should be available.\n\nThe code snippet given below initializes a producer with the basic configuration.\n```ballerina\nimport ballerinax\/kafka;\n\nkafka:ProducerConfiguration producerConfiguration = {\n    clientId: \"basic-producer\",\n    acks: \"all\",\n    retryCount: 3\n};\n\nkafka:Producer kafkaProducer = check new (kafka:DEFAULT_URL, producerConfiguration);\n```\n#### Kafka Consumer\nA Kafka consumer is a subscriber responsible for reading records from one or more topics and one or more partitions of a topic. When working with a Kafka consumer, the first thing to do is initialize the consumer.\nFor the consumer to execute successfully, an active Kafka broker should be available.\n\nThe code snippet given below initializes a consumer with the basic configuration.\n```ballerina\nkafka:ConsumerConfiguration consumerConfiguration = {\n    groupId: \"group-id\",    \/\/ Unique string that identifies the consumer\n    offsetReset: \"earliest\",    \/\/ Offset reset strategy if no initial offset\n    topics: [\"kafka-topic\"]\n};\n\nkafka:Consumer kafkaConsumer = check new (kafka:DEFAULT_URL, consumerConfiguration);\n```\n### Listener\nThe Kafka consumer can be used as a listener to a set of topics without the need to manually `poll` the messages.\n\nYou can use the `Caller` to manually commit the offsets of the messages that are read by the service. The following code snippet shows how to initialize and define the listener and how to commit the offsets manually.\n```ballerina\nkafka:ConsumerConfiguration consumerConfigs = {\n    groupId: \"group-id\",\n    topics: [\"kafka-topic-1\"],\n    pollingInterval: 1,\n    autoCommit: false\n};\n\nlistener kafka:Listener kafkaListener = new (kafka:DEFAULT_URL, consumerConfiguration);\n\nservice kafka:Service on kafkaListener {\n    remote function onConsumerRecord(kafka:Caller caller, kafka:ConsumerRecord[] records) {\n        \/\/ processes the records\n        ...\n        \/\/ commits the offsets manually\n        kafka:Error? commitResult = caller->commit();\n\n        if (commitResult is error) {\n            io:println(\"Error occurred while committing the offsets for the consumer \", 'error = commitResult);\n        }\n    }\n}\n```\n### Data Serialization\nSerialization is the process of converting data into a stream of bytes that is used for transmission. Kafka\nstores and transmits these bytes of arrays in its queue. Deserialization does the opposite of serialization\nin which bytes of arrays are converted into the desired data type.\n\nCurrently, this module only supports the `byte array` data type for both the keys and values. The following code snippets\nshow how to produce and read a message from Kafka.\n```ballerina\nstring message = \"Hello World, Ballerina\";\nstring key = \"my-key\";\n\/\/ converts the message and key to a byte array\ncheck kafkaProducer->send({ topic: \"test-kafka-topic\", key: key.toBytes(), value: message.toBytes() });\n```\n```ballerina\nkafka:ConsumerRecord[] records = check kafkaConsumer->poll(1);\n\nforeach var kafkaRecord in records {\n    byte[] messageContent = kafkaRecord.value;\n    \/\/ tries to generate the string value from the byte array\n    string result = check string:fromBytes(messageContent);\n    io:println(\"The result is : \", result);\n}\n```\n### Concurrency\nIn Kafka, records are grouped into smaller units called partitions. These can be processed independently without\ncompromising the correctness of the results and lays the foundation for parallel processing. This can be achieved by\nusing multiple consumers within the same group each reading and processing data from a subset of topic partitions and \nrunning in a single thread.\n\nTopic partitions are assigned to consumers automatically or you can manually assign topic partitions.\n\nThe following code snippet joins a consumer to the `consumer-group` and assigns it to a topic partition manually.\n```ballerina\nkafka:ConsumerConfiguration consumerConfigs = {\n    \/\/ `groupId` determines the consumer group\n    groupId: \"consumer-group\",\n    pollingInterval: 1,\n    autoCommit: false\n};\n\nkafka:Consumer kafkaConsumer = check new (kafka:DEFAULT_URL, consumerConfiguration);\n\/\/ creates a topic partition\nkafka:TopicPartition topicPartition = {\n    topic: \"kafka-topic-1\",\n    partition: 1\n};\n\/\/ passes the topic partitions to the assign function as an array\ncheck kafkaConsumer->assign([topicPartition]);\n```", "apiDocURL":"https://docs.central.ballerina.io/ballerinax/kafka/2.1.0-beta.1", "packageUrl":"/ballerinax/kafka/2.1.0-beta.1"}], "pullCount":11}], "count":168, "offset":0, "limit":15}